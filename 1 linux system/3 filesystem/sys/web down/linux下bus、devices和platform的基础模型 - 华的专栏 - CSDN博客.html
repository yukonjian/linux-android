<!DOCTYPE html>
<!-- saved from url=(0055)https://blog.csdn.net/wh8_2011/article/details/51678924 -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link rel="canonical" href="https://blog.csdn.net/wh8_2011/article/details/51678924">
    
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="referrer" content="always">
    <meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="https://blog.csdn.net/wh8_2011/article/details/51678924#">
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
        <meta name="csdn-baidu-search" content="{&quot;autorun&quot;:true,&quot;install&quot;:true,&quot;keyword&quot;:&quot;linux下bus、devices和platform的基础模型 - 华的专栏&quot;}">
    
    <link href="https://csdnimg.cn/public/favicon.ico" rel="SHORTCUT ICON">
    <title>linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客</title>

        
                    <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/detail-2c3116505b.min.css">
            
            <script type="text/javascript" async="" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/bcxm"></script><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/hm.js"></script><script type="application/ld+json">{"@context":"https:\/\/ziyuan.baidu.com\/contexts\/cambrian.jsonld","@id":"https:\/\/blog.csdn.net\/wh8_2011\/article\/details\/51678924","appid":"1563894916825412","title":"linux\u4e0bbus\u3001devices\u548cplatform\u7684\u57fa\u7840\u6a21\u578b - \u534e\u7684\u4e13\u680f","images":["http:\/\/blog.chinaunix.net\/attachment\/201203\/25\/20672257_1332648054ATiG.png","http:\/\/blog.chinaunix.net\/attachment\/201203\/25\/20672257_1332648306VmvF.png","http:\/\/blog.chinaunix.net\/attachment\/201203\/25\/20672257_1332648316NZ8Z.jpg"],"pubDate":"2019-06-22T17:09:16"}</script>
        
            <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/skin3-template-9b39979775.min.css">
        <script type="text/javascript">
        var username = "wh8_2011";
        var blog_address = "https://blog.csdn.net/wh8_2011";
        var static_host = "https://csdnimg.cn/release/phoenix/";
        var currentUserName = "";
        var isShowAds = true;
        var isOwner = false;
        var loginUrl = "http://passport.csdn.net/account/login?from=https://blog.csdn.net/wh8_2011/article/details/51678924"
        var blogUrl = "https://blog.csdn.net/";

        var curSkin = "skin3-template";
        // 第四范式所需数据
        var articleTitles = "linux下bus、devices和platform的基础模型 - 华的专栏";
        
        var nickName = "-鸣人-";
        var isCorporate = false;
        var subDomainBlogUrl = "https://blog.csdn.net/"
        var digg_base_url = "https://blog.csdn.net/wh8_2011/phoenix/comment";
        var articleDetailUrl = "https://blog.csdn.net/wh8_2011/article/details/51678924";
    </script>
    <script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/main-1.0.6.js"></script>
    <script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/saved_resource" type="text/javascript"></script>
    <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/sandalstrap.min.css">
    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
<style type="text/css" id="QIHOO_FEED_CSS">newsfeed{display:block;}newsfeed .img{background-size:cover;background-repeat:no-repeat;}.QIHOO__WEB__SO__1561194560533_147 info-div{display:block}.QIHOO__WEB__SO__1561194560533_147 

.singleImage{   
    background-color:#fff;
    padding: 10px 0px 0px 20px;
    overflow: hidden;
    width: 880px;
    height: 90px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .wrap{
    position:relative;
    width: 880px;
    height: 90px;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-img{
    width: 90px;
    height: 68px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194560533_147 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194560533_147 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 68px;
    border-radius: 0px;
    position: relative;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-body{
    width: 790px;
    height: 90px;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194560533_147 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194560533_147 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194560533_147 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194560533_147 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560533_147 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194560533_147 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft YaHei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560533_147 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194560533_147 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage{.QIHOO__WEB__SO__1561194560533_147 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560533_147 px {paddingRight}.QIHOO__WEB__SO__1561194560533_147 px {paddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560533_147 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560533_147 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560533_147 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560533_147 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560533_147 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560533_147 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194560533_147 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560533_147 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194560533_147 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560533_147 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow{.QIHOO__WEB__SO__1561194560533_147 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560533_147 px {paddingRight}.QIHOO__WEB__SO__1561194560533_147 px {paddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560533_147 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560533_147 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560533_147 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560533_147 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560533_147 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560533_147 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194560533_147 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560533_147 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194560533_147 
    height:{imgH}px;.QIHOO__WEB__SO__1561194560533_147 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560533_147 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194560533_147 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560533_147 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage{.QIHOO__WEB__SO__1561194560533_147    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560533_147 px {paddingRight}.QIHOO__WEB__SO__1561194560533_147 px {paddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560533_147 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194560533_147 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560533_147 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560533_147 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560533_147 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560533_147 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560533_147 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194560533_147    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194560533_147    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560533_147 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560533_147 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}newsfeed{display:block;}newsfeed .img{background-size:cover;background-repeat:no-repeat;}.QIHOO__WEB__SO__1561194560787_630 info-div{display:block}.QIHOO__WEB__SO__1561194560787_630 

.singleImage{   
    background-color:#fff;
    padding: 10px 0px 0px 0px;
    overflow: hidden;
    width: 900px;
    height: 74px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .wrap{
    position:relative;
    width: 900px;
    height: 74px;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-img{
    width: 90px;
    height: 60px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194560787_630 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194560787_630 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 60px;
    border-radius: 3px;
    position: relative;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-body{
    width: 810px;
    height: 74px;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194560787_630 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194560787_630 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194560787_630 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194560787_630 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560787_630 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194560787_630 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft Yahei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560787_630 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194560787_630 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage{.QIHOO__WEB__SO__1561194560787_630 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560787_630 px {paddingRight}.QIHOO__WEB__SO__1561194560787_630 px {paddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560787_630 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560787_630 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560787_630 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560787_630 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560787_630 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560787_630 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194560787_630 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560787_630 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194560787_630 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560787_630 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow{.QIHOO__WEB__SO__1561194560787_630 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560787_630 px {paddingRight}.QIHOO__WEB__SO__1561194560787_630 px {paddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560787_630 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560787_630 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560787_630 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560787_630 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560787_630 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560787_630 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194560787_630 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560787_630 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194560787_630 
    height:{imgH}px;.QIHOO__WEB__SO__1561194560787_630 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560787_630 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194560787_630 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560787_630 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage{.QIHOO__WEB__SO__1561194560787_630    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560787_630 px {paddingRight}.QIHOO__WEB__SO__1561194560787_630 px {paddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560787_630 
    background-color:{backgroundColor};
    width: 900px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 900px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194560787_630 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560787_630 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560787_630 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560787_630 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560787_630 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560787_630 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194560787_630    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194560787_630    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560787_630 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560787_630 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}newsfeed{display:block;}newsfeed .img{background-size:cover;background-repeat:no-repeat;}.QIHOO__WEB__SO__1561194560864_733 info-div{display:block}.QIHOO__WEB__SO__1561194560864_733 

.singleImage{   
    background-color:#fff;
    padding: 0px 0px 0px 0px;
    overflow: hidden;
    width: 852px;
    height: 60px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .wrap{
    position:relative;
    width: 852px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-img{
    width: 90px;
    height: 60px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194560864_733 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194560864_733 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 60px;
    border-radius: 3px;
    position: relative;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-body{
    width: 762px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194560864_733 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194560864_733 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194560864_733 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194560864_733 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560864_733 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194560864_733 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft Yahei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560864_733 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194560864_733 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage{.QIHOO__WEB__SO__1561194560864_733 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560864_733 px {paddingRight}.QIHOO__WEB__SO__1561194560864_733 px {paddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560864_733 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560864_733 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560864_733 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560864_733 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560864_733 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560864_733 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194560864_733 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560864_733 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194560864_733 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560864_733 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow{.QIHOO__WEB__SO__1561194560864_733 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560864_733 px {paddingRight}.QIHOO__WEB__SO__1561194560864_733 px {paddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560864_733 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560864_733 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560864_733 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560864_733 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560864_733 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560864_733 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194560864_733 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560864_733 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194560864_733 
    height:{imgH}px;.QIHOO__WEB__SO__1561194560864_733 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560864_733 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194560864_733 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560864_733 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage{.QIHOO__WEB__SO__1561194560864_733    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560864_733 px {paddingRight}.QIHOO__WEB__SO__1561194560864_733 px {paddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560864_733 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194560864_733 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560864_733 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560864_733 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560864_733 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560864_733 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560864_733 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194560864_733    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194560864_733    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560864_733 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560864_733 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}newsfeed{display:block;}newsfeed .img{background-size:cover;background-repeat:no-repeat;}.QIHOO__WEB__SO__1561194560905_600 info-div{display:block}.QIHOO__WEB__SO__1561194560905_600 

.singleImage{   
    background-color:#fff;
    padding: 0px 0px 0px 0px;
    overflow: hidden;
    width: 852px;
    height: 60px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .wrap{
    position:relative;
    width: 852px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-img{
    width: 90px;
    height: 60px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194560905_600 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194560905_600 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 60px;
    border-radius: 3px;
    position: relative;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-body{
    width: 762px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194560905_600 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194560905_600 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194560905_600 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194560905_600 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560905_600 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194560905_600 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft Yahei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560905_600 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194560905_600 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage{.QIHOO__WEB__SO__1561194560905_600 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560905_600 px {paddingRight}.QIHOO__WEB__SO__1561194560905_600 px {paddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560905_600 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560905_600 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560905_600 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560905_600 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560905_600 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560905_600 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194560905_600 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560905_600 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194560905_600 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560905_600 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow{.QIHOO__WEB__SO__1561194560905_600 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560905_600 px {paddingRight}.QIHOO__WEB__SO__1561194560905_600 px {paddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560905_600 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560905_600 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560905_600 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560905_600 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560905_600 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560905_600 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194560905_600 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560905_600 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194560905_600 
    height:{imgH}px;.QIHOO__WEB__SO__1561194560905_600 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560905_600 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194560905_600 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560905_600 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage{.QIHOO__WEB__SO__1561194560905_600    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560905_600 px {paddingRight}.QIHOO__WEB__SO__1561194560905_600 px {paddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560905_600 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194560905_600 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560905_600 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560905_600 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560905_600 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560905_600 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560905_600 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194560905_600    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194560905_600    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560905_600 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560905_600 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}newsfeed{display:block;}newsfeed .img{background-size:cover;background-repeat:no-repeat;}.QIHOO__WEB__SO__1561194560956_555 info-div{display:block}.QIHOO__WEB__SO__1561194560956_555 

.singleImage{   
    background-color:#fff;
    padding: 0px 0px 0px 0px;
    overflow: hidden;
    width: 852px;
    height: 60px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .wrap{
    position:relative;
    width: 852px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-img{
    width: 90px;
    height: 60px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194560956_555 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194560956_555 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 60px;
    border-radius: 3px;
    position: relative;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-body{
    width: 762px;
    height: 60px;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194560956_555 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194560956_555 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194560956_555 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194560956_555 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560956_555 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194560956_555 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft Yahei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560956_555 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194560956_555 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage{.QIHOO__WEB__SO__1561194560956_555 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560956_555 px {paddingRight}.QIHOO__WEB__SO__1561194560956_555 px {paddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560956_555 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560956_555 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560956_555 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560956_555 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560956_555 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560956_555 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194560956_555 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560956_555 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194560956_555 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560956_555 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow{.QIHOO__WEB__SO__1561194560956_555 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560956_555 px {paddingRight}.QIHOO__WEB__SO__1561194560956_555 px {paddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560956_555 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194560956_555 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560956_555 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560956_555 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560956_555 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560956_555 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194560956_555 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194560956_555 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194560956_555 
    height:{imgH}px;.QIHOO__WEB__SO__1561194560956_555 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194560956_555 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194560956_555 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194560956_555 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage{.QIHOO__WEB__SO__1561194560956_555    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194560956_555 px {paddingRight}.QIHOO__WEB__SO__1561194560956_555 px {paddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {paddingLeft}px;.QIHOO__WEB__SO__1561194560956_555 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194560956_555 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194560956_555 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194560956_555 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194560956_555 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194560956_555 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingRight}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194560956_555 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194560956_555    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194560956_555    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194560956_555 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194560956_555 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194561155_970 info-div{display:block}.QIHOO__WEB__SO__1561194561155_970 

.singleImage{   
    background-color:#fff;
    padding: 0px 0px 0px 0px;
    overflow: hidden;
    width: 852px;
    height: 60px;
    cursor: pointer;
    position:relative;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .wrap{
    position:relative;
    width: 852px;
    height: 60px;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .visited .singleImage-title{
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-img{
    width: 90px;
    height: 60px;
    padding: 0px 0px;
    display: block;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-img-left{
    float:left;
}.QIHOO__WEB__SO__1561194561155_970 
.singleImage .singleImage-img-right{
    float:right;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-img-top{
    position: absolute;
    top : 0;
}.QIHOO__WEB__SO__1561194561155_970 
.singleImage .singleImage-img-bottom{
    position: absolute;
    bottom : 0;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-img .img{
    width: 90px;
    height: 60px;
    border-radius: 3px;
    position: relative;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-body{
    width: 762px;
    height: 60px;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .singleImage-body-left{
    float: left;
}.QIHOO__WEB__SO__1561194561155_970 
.singleImage .singleImage-body-right{
    float: left;
}.QIHOO__WEB__SO__1561194561155_970 
.singleImage .singleImage-body-top{
    position:absolute;
    bottom:0;
}.QIHOO__WEB__SO__1561194561155_970 
.singleImage .singleImage-body-bottom{
    position:absolute;
    top:0;
}.QIHOO__WEB__SO__1561194561155_970 


.singleImage .singleImage-title{
    font-size: 18px;
    font-family: Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;
    font-weight: bold;
    color: #000;
    padding: 0px 0px 5px 16px; 
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194561155_970 



.singleImage .singleImage-title:hover{
    color: #000;
}.QIHOO__WEB__SO__1561194561155_970 


.singleImage .singleImage-desc{
    font-size: 14px;
    font-family: Microsoft Yahei;
    color: #8e959a;
    display: block;
    padding: 0px 0px 0px 16px; 
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194561155_970 

.singleImage .ads-tag{   
    position: absolute;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}.QIHOO__WEB__SO__1561194561155_970 .mulImage .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage{.QIHOO__WEB__SO__1561194561155_970 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194561155_970 px {paddingRight}.QIHOO__WEB__SO__1561194561155_970 px {paddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {paddingLeft}px;.QIHOO__WEB__SO__1561194561155_970 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194561155_970 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194561155_970 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194561155_970 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194561155_970 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194561155_970 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingRight}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-title:hover {.QIHOO__WEB__SO__1561194561155_970 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194561155_970 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-figure-img .img{.QIHOO__WEB__SO__1561194561155_970 
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194561155_970 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImage .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 .mulImageWindow .visited .mulimg-title{
    color:#9e9e9e;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow{.QIHOO__WEB__SO__1561194561155_970 
    padding: {paddingTop}.QIHOO__WEB__SO__1561194561155_970 px {paddingRight}.QIHOO__WEB__SO__1561194561155_970 px {paddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {paddingLeft}px;.QIHOO__WEB__SO__1561194561155_970 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-title {
    overflow: hidden;.QIHOO__WEB__SO__1561194561155_970 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194561155_970 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194561155_970 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194561155_970 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194561155_970 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingRight}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingLeft}px;
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-title:hover {.QIHOO__WEB__SO__1561194561155_970 
    color: {hoverColor};
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-grid-wrap{
    position: relative;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-figure-grid{
    overflow: hidden;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-figure{
    float: left;.QIHOO__WEB__SO__1561194561155_970 
    margin-right:{imageSplitWidth}px;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-figure-img {
    overflow: hidden;
    position: relative;
    padding: 0px NaNpx;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-figure-img .img{
    width:NaNpx;.QIHOO__WEB__SO__1561194561155_970 
    height:{imgH}px;.QIHOO__WEB__SO__1561194561155_970 
    border-radius:{imageBorderRadius}px;
}.QIHOO__WEB__SO__1561194561155_970 

.mulImageWindow .mulimg-figure-img .window-item__title{
    display: block;
    width: 100%;
    position: absolute;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);
    color: #fff;.QIHOO__WEB__SO__1561194561155_970 
    font-size: {windowItemTitleFontSize}px;
    line-height: 1.5;
    text-align: center;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}.QIHOO__WEB__SO__1561194561155_970 

.mulImageWindow .mulimg-extra{
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-extra .mul-ads-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 
.mulImageWindow .mulimg-extra .ads-tag{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 .largeImage .visited .largeImage-title{  
    color: #9e9e9e;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage{.QIHOO__WEB__SO__1561194561155_970    
    padding: {paddingTop}.QIHOO__WEB__SO__1561194561155_970 px {paddingRight}.QIHOO__WEB__SO__1561194561155_970 px {paddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {paddingLeft}px;.QIHOO__WEB__SO__1561194561155_970 
    background-color:{backgroundColor};
    width: 852px;
    height: NaNpx;
    overflow: hidden;
    cursor: pointer;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-wrapper {
    position: relative;
    vertical-align: top;
    width: 852px;
    height: NaNpx;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-title {
    display: none;   
    overflow: hidden;.QIHOO__WEB__SO__1561194561155_970 
    font-size: {titleFontSize}px;.QIHOO__WEB__SO__1561194561155_970 
    font-family: {titleFontFamily};.QIHOO__WEB__SO__1561194561155_970 
    font-weight: {titleFontWeight};.QIHOO__WEB__SO__1561194561155_970 
    color: {titleFontColor};.QIHOO__WEB__SO__1561194561155_970 
    padding: {titlePaddingTop}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingRight}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingBottom}.QIHOO__WEB__SO__1561194561155_970 px {titlePaddingLeft}px; 
    line-height: 1.3;
    white-space: nowrap;
    text-overflow: ellipsis;
    letter-spacing:0.05em; 
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-title:hover {.QIHOO__WEB__SO__1561194561155_970    
    color:{hoverColor};
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-body{   
    position: relative;   
    vertical-align: top;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-grid-wrap {   
    position: relative;   
    padding: NaNpx 0px;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-grid-wrap .img {.QIHOO__WEB__SO__1561194561155_970    
    width:{imgW}px;
    height:NaNpx;.QIHOO__WEB__SO__1561194561155_970 
    border-radius:{imageBorderRadius}px;
    position: relative;   
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-extra {   
    display: none;   
    color: #999;
    height: NaNpx;
    line-height: NaNpx;
    overflow: hidden;
    white-space: nowrap;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-extra .largeImage-ad-tag{
    width: 30px;
    color: #ddd;
    font-size: 12px;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .largeImage-extra .largeImage-ad-src{
    font-size: 12px;
    color: #999;
    display: inline;
}.QIHOO__WEB__SO__1561194561155_970 
.largeImage .ads-tag{   
    position: absolute;
    display : block;
    top: 0;
    right: 0;
    width: 22px;
    height: 12px;
    background-image: url(//p0.ssl.qhimg.com/t01c5fc7f8612d6b610.png);
}</style></head>
<body class="nodata "><div id="csdn-toolbar" class="csdn-toolbar tb_disnone ">        <div class="container row center-block ">          <ul class="pull-left left-menu clearfix" id="nav-left-menu">            <li>              <a href="https://www.csdn.net/" title="CSDN首页"><svg class="toolbar-icon" aria-hidden="true"><use xlink:href="#gonggong_csdnlogo_"></use></svg></a>            </li>            <li><a href="https://www.csdn.net/" class="toolbar_to_feed" title="首页" style="margin-left:0">首页</a></li>            <li><a href="https://blog.csdn.net/" class="toolbar_to_feed" title="博客">博客</a></li>            <li class="app-control app-edu"><a class="link-title" href="https://edu.csdn.net/" title="学院">学院</a>              <div class="appControl">              <span class="eduwx">                <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/eduwxfix.png">                <em>CSDN学院</em>              </span>              </div>            </li>            <li><a href="https://download.csdn.net/" title="下载">下载</a></li>            <li><a href="https://bbs.csdn.net/" title="论坛">论坛</a></li>            <li class="app-control app-app"><a class="link-title" href="https://www.csdn.net/csdn-app/" title="APP">APP</a>              <div class="appControl">              <span>                <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/csdnqr@2x.png">                <em>CSDN</em>              </span>              </div>            </li>            <li><a href="https://ask.csdn.net/" title="问答">问答</a></li>            <li><a href="https://h5.youzan.com/v2/showcase/homepage?alias=BUj3rrGa2J&amp;ps=760" target="_blank" title="商城">商城</a></li>            <li><a href="https://huiyi.csdn.net/" title="活动">活动</a></li>            <li class="vip-caise"><a href="https://mall.csdn.net/vip" title="VIP会员">VIP会员</a><span class="vip-totast"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/vipimg.png"></span></li>            <li><a href="http://job.csdn.net/" title="招聘">招聘</a></li>            <li><a href="http://www.iteye.com/" title="ITeye" target="_blank">ITeye</a></li>            <li class="app-control app-gitchat"><a href="https://gitbook.cn/?ref=csdn" title="GitChat">GitChat</a>              <div class="appControl">                <span>                  <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/csdn-gitchat.png">                  <em>GitChat</em>                </span>              </div>            </li>            <li><a href="https://gitchat.csdn.net/?utm_source=csdn_toolbar" title="图文课">图文课</a></li>          </ul>          <div class="pull-right login-wrap unlogin">            <ul class="btns">            <li class="toolbar-tracking csdn-tracking-statistics tracking-click" data-mod="popu_369"><a href="https://blog.csdn.net/wh8_2011/article/details/51678924#" style="padding:0" target="_blank"></a></li>              <li>                <div class="search_bar csdn-tracking-statistics tracking-click" data-mod="popu_366">                  <input type="text" class="input_search" name="" value="Python工程师" id="toolber-keyword" placeholder="搜博主文章">                  <a href="https://so.csdn.net/so/" target="_blank" class="btn-nobg-noborder btn-search"><svg class="toolbar-icon" aria-hidden="true"><use xlink:href="#sousuo"></use></svg></a>                </div>              </li>              <li class="write-bolg-btn csdn-tracking-statistics tracking-click" data-mod="popu_370"><a class="" href="https://mp.csdn.net/postedit" target="_blank" id="blogClick"><svg class="toolbar-icon" aria-hidden="true"><use xlink:href="#xieboke1"></use></svg><span>写博客</span></a>              </li><li class="gitChat upload msgBox" id="msgBox">              <a target="_blank" class="" href="https://i.csdn.net/#/msg/index"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/message-icon.png" alt="" class="message"><span>消息</span><div class="toolbar-circle" id="msg-circle"></div></a>                <div class="msgList" id="msgList">                  <a href="https://i.csdn.net/#/msg/index">评论<em class="comment"></em></a>                  <a href="https://i.csdn.net/#/msg/attention">关注<em class="follow"></em></a>                  <a href="https://i.csdn.net/#/msg/like">点赞<em class="thumb_up"></em></a>                  <a href="https://i.csdn.net/#/msg/answer">回答<em class="invitation"></em></a>                  <a href="https://i.csdn.net/#/msg/notice">系统通知<em class="system"></em></a>                </div>              </li>              <li class="userinfo"><a href="https://passport.csdn.net/account/login" target="_blank">登录</a><span></span><a href="https://passport.csdn.net/account/login" target="_blank">注册</a></li>              <li class="userLogin">                <div class="loginCenter"><a href="https://i.csdn.net/" target="_blank"><img class="login_img" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/100x100.jpg"></a></div>                <div class="userControl">                <div class="bord">                <div><i class="pull_icon pull_icon1"></i><a href="https://www.csdn.net/nav/watchers" target="_blank">我的关注</a></div>                <div><i class="pull_icon pull_icon2"></i><a href="https://i.csdn.net/#/uc/collection-list" target="_blank">我的收藏</a></div>                <div><i class="pull_icon pull_icon4"></i><a href="https://i.csdn.net/#/uc/profile" target="_blank">个人中心</a></div>                <div><i class="pull_icon pull_icon7"></i><a href="https://i.csdn.net/#/account/index" target="_blank">帐号设置</a></div>                </div>                  <div class="bord">                  <div><i class="pull_icon pull_icon5"></i><a href="https://blog.csdn.net/" target="_blank">我的博客</a></div>                  <div><i class="pull_icon pull_icon6"></i><a href="https://mp.csdn.net/" target="_blank">管理博客</a></div>                  <div><i class="pull_icon pull_icon12"></i><a href="https://edu.csdn.net/mycollege" target="_blank">我的学院</a></div>                  <div><i class="pull_icon pull_icon13"></i><a href="https://download.csdn.net/my/downloads" target="_blank">我的下载</a></div>                  </div>                  <div class="bord">                  <div><i class="pull_icon pull_icon8"></i><a href="https://my.csdn.net/my/score" target="_blank">我的C币</a></div>                  <div><i class="pull_icon pull_icon9"></i><a href="https://order.csdn.net/myorder" target="_blank">订单中心</a></div>                  </div>                  <div class="bord">                  <div><i class="pull_icon pull_icon10"></i><a href="https://blog.csdn.net/home/help.html" target="_blank">帮助</a></div>                  <div><i class="pull_icon pull_icon11"></i><a href="javascript:void(0);" class="logout">退出</a></div>                  </div>                </div>                <div class="guo_tip_box">关注和收藏在这里</div>              </li>            </ul>          </div>        </div>    </div> 
    <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/content_toolbar.css">
    <script id="toolbar-tpl-scriptId" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/content_toolbar.js" type="text/javascript" domain="https://blog.csdn.net/"></script><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/notify.js"></script><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/main.js"></script><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/counter.js"></script><script class="toolbar-s" type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/iconfont.js"></script>
<div id="kp_box_476" data-pid="476" data-track-view="{&quot;mod&quot;:&quot;kp_popu_476-923&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_476-923&quot;,&quot;con&quot;:&quot;,,&quot;}"><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/indexSuperise.js"></script><script>window.csdn.indexSuperise({smallMoveImg:'https://img-bss.csdn.net/1560915497802.png',bigMoveImg:'https://img-bss.csdn.net/1560915494375.png',link:'https://kunyu.csdn.net?p=476&a=923&c=437&k=&d=1&t=3&dest=https%3A%2F%2Fedu.csdn.net%2Ftopic%2Fai30%3Futm_source%3Dblogpopup',trackSuperId:476,smallMove:'notMove',trackSId:923});</script></div><link href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/indexSuperise.css" rel="stylesheet"><link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/blog_code-c3a0c33d5c.css">
<link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/paging.css">
<script type="text/javascript">
	var NEWS_FEED = function(){}
</script>

<link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/chart-3456820cac.css">
<div class="container clearfix" id="mainBox">
			<div class="recommend-right">
  <ul class="recommend-fixed-box">
    
  </ul>
</div>	    <main>
        <div class="blog-content-box">
  <div class="article-header-box">
    <div class="article-header">
      <div class="article-title-box">
        <span class="article-type type-2 float-left">转</span>        <h1 class="title-article">linux下bus、devices和platform的基础模型</h1>
      </div>
      <div class="article-info-box">
        <div class="article-bar-top">
                                                  <span class="time">2016年06月15日 09:58:23</span>
          <a class="follow-nickName" href="https://me.csdn.net/wh8_2011" target="_blank">-鸣人-</a>
          <span class="read-count">阅读数 2393</span>
                  </div>
        <div class="operating">
                  </div>
      </div>
    </div>
  </div>
  <article class="baidu_pl">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
              <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/ck_htmledit_views-cd6c485e8b.css">
                              <link rel="stylesheet" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/ck_htmledit_views-cd6c485e8b.css">
          <div class="htmledit_views" id="content_views">
            
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)"><span style="color:#0000ff; word-wrap:break-word">一、kobject的定义</span></span><span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">:</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">kobject是Linux2.6引入的设备管理机制,在内核中由struct kobject结构表示,这个结构使所有设备在底层都具有统一的接口.kobject提供了基本的对象管理能力,是构成Linux2.6设备模型的核心结构,它与sysfs文件系统紧密联系,每个在内核中注册kobject对象都对应与sysfs文件系统中的一个目录;kobject---&gt;sysfs.dir;其结构定义为:</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">struct kobject</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">{</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; const char*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k_name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //指向设备名称的指针</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name[KOBJ_NAME_LEN]; //设备名称</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct kref&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kref;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //内核对象的引用计数</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct list_head&nbsp;&nbsp; entry;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //挂接到当前内核对象所在kset中的单元</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct kobject*&nbsp;&nbsp;&nbsp; parent;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //指向父对象的指针</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct kset*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kset;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //内核对象所属kset的指针</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct kobj_type*&nbsp; ktype;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //指向内核对象类型描述符的指针</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; struct dentry*&nbsp;&nbsp;&nbsp;&nbsp; dentry;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //sysfs文件系统中与该内核对象对应的文件节点路径的指针</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; wait_queue_head_t&nbsp; poll;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //IO等待队列;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">};</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)"><span style="color:#0000ff; word-wrap:break-word">二、kobject相关函数</span></span><span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">:</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">1、void kobject_init(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于初始化kobject对象,它设置kobject对象的引用计数为1,entry字段指向自身,其所属kset对象的引用计数加1;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">2、void kobject_cleanup(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; void kobject_release(struct kref* ref);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 这两个函数用于清除kobject对象,当其引用计数为0时,释放对象所占用的资源;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">3、int kobject_set_name(struct kobject* kobj, const char* format, ...);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于设置指定kobject对象的名称;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">4、const char* kobject_name(const struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于返回指定kobject的名称;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">5、int kobject_rename(struct kobject* kobj, const char* new_name);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于为指定kobject对象重命名;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">6、struct kobject* kobject_get(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于将kobject对象的引用计数加1,相当于申请了一个kobject对象资源,同时返回该kobject对象的指针;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">7、void kobject_put(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于将kobject对象的引用计数减1,相当于释放了一个kobject对象资源;当引用计数为0时,则调用kobject_release()释放该kobject对象的资源;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">8、int kobject_add(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数用于注册kobject对象,即:加入到Linux的设备层次中,它会挂接该kobject对象到kset的list链中,增加父目录各级kobject对象的引用计数,在其parent字段指向的目录下创建对应的文件节点,并启动该类型kobject对象的hotplug()函数;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">9、void kobject_del(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp; 该函数与kobject_add()相反,用于注销kobject对象,即:中止该kobject对象的hotplug()函数,从Linux的设备层次中删除该kobject对象,删除该kobject对象在sysfs文件系统中对应的文件节点;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">10、int kobject_register(struct kobject* obj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp;&nbsp; 该函数用于注册kobject对象,它首先会调用kobject_init()初始化kobj,然后再调用kobject_add()完成该内核对象的添加;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">11、void kobject_unregister(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp;&nbsp; 该函数与kobject_register()相反,用于注销kobject对象,它首先调用kobject_del()从Linux的设备层次中删除kobject对象,再调用kobject_put()减少该kobject对象的引用计数,当引用计数为0时,则释放该kobject对象的资源;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">12、struct kobject* kobject_add_dir(struct kobject*, const char* path);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp;&nbsp; 该函数用于在sysfs文件系统中为该kobject对象创建对应的目录;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">13、char* kobject_get_path(struct kobject* kobj);</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp;&nbsp;&nbsp; 该函数用于返回该kobject对象在sysfs文件系统中的对应目录路径;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)"><span style="color:#0000ff; word-wrap:break-word">三、kobject的行为</span></span><span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">:</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">typedef int __bitwise kobject_action_t;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">enum kobject_action</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">{</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_ADD&nbsp;&nbsp;&nbsp;&nbsp; = (__force kobject_action_t) 0x01, //exclusive to core</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_REMOVE&nbsp; = (__force kobject_action_t) 0x02, //exclusive to core</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_CHANGE&nbsp; = (__force kobject_action_t) 0x03, //device state change</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_MOUNT&nbsp;&nbsp; = (__force kobject_action_t) 0x04, //mount event for block devices (broken)</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_UMOUNT&nbsp; = (__force kobject_action_t) 0x05, //umount event for block devices (broken)</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_OFFLINE = (__force kobject_action_t) 0x06, //device offline</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">&nbsp; KOBJ_ONLINE&nbsp; = (__force kobject_action_t) 0x07, //device online</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">};</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">该枚举类型用于定义kobject对象的状态更新消息码,也就是热插拔事件码;</span><br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">
<span style="color:#ff0000; word-wrap:break-word; font-size:16px; line-height:25px; font-family:宋体; background-color:rgb(234,242,236)">备注</span><span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; font-family:宋体; line-height:25px; background-color:rgb(234,242,236)">:struct
 kobject结构定义于文件include/linux/kobject.h<br style="word-wrap:break-word">
<br style="word-wrap:break-word">
</span><span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">下面转自：</span><a target="_blank" rel="nofollow" href="http://blog.chinaunix.net/u1/57901/showart_1803248.html" style="word-wrap:break-word; text-decoration:none; color:rgb(147,233,202); font-size:16px; line-height:25px; font-family:Arial,Helvetica,simsun,u5b8bu4f53; background-color:rgb(23,97,162)">http://blog.chinaunix.net/u1/57901/showart_1803248.html</a><br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
在LINUX中最让人不解的大概就是/sys下面的内容了</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
下面首先让我们来创建一个简单的platform设备,并从这个设备的视角进行深入,在此篇文章的深入过程中,我们只看kobeject的模型我所使用的内核版本号为2.6.26,操作系统的内核版本号为2.6.27-7,暂未发现2.6.27-7与2.6.26的重大不同</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
首先写一个简单的模块</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
#include</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
#include</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
#include</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static int __init test_probe(struct platform_device *pdev)</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
{</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; int err = 0;</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; return err;</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
}</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static int test_remove(struct platform_device *pdev)</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
{</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
}</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static struct platform_device test_device = {</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; .name = "test_ts",</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; .id = -1,</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
};</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static struct platform_driver test_driver = {</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; .probe &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= test_probe,</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; .remove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= test_remove,</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; .driver &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= {</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp;= "test_ts",</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .owner &nbsp; &nbsp; &nbsp; &nbsp;= THIS_MODULE,</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; },</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
};</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static int __devinit test_init(void)</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
{</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; platform_device_register(&amp;test_device); &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; return platform_driver_register(&amp;test_driver);</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
}</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
static void __exit test_exit(void)</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
{</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; platform_device_unregister(&amp;test_device);</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; platform_driver_unregister(&amp;test_driver);</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
}</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
module_init(test_init);</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
module_exit(test_exit);</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
MODULE_AUTHOR("zwolf");</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
MODULE_DESCRIPTION("Module test");</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
MODULE_LICENSE("GPL");</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
MODULE_ALIAS("test");</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
接下来是makefile</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
#Makefile</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
obj-m:=test.o</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
KDIR:=/lib/modules/2.6.27-7-generic/build</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
PWD:=$(shell pwd)</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
default:</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
&nbsp; &nbsp; &nbsp; &nbsp; $(MAKE) -C $(KDIR) M=$(PWD) modules</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
KDIR中的目录请改为各位实际运行中的内核目录make之后进行模块的加载 sudo insmod ./test.ko</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
现在到sys目录中查看我们的设备是否已经加载上了</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
首先是/sys/bus/platform/devices/在devices下,每一个连接文件都代表了一个设备ls可看见test_ts,进入test_ts,ls可发现driver这个链接文件,ls-l查看,发现这个文件是连到/sys/bus/platform/drivers/test_ts的</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
这里需要说明的是连接的含义,并不是driver驱动存在于test_ts这个设备中,而是test_ts使用的驱动为/sys/bus/platform/drivers/test_ts</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
现在换到/sys/bus/platform/drivers这个目录下</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
ls查看会发现这里的文件都为目录,而非连接文件,说明这是驱动真正放置的位置</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
现在进入test_ts目录,然后ls,发现有一个test_ts的连接文件,ls –l查看可发现该文件连接到/sys/devices/platform/test_ts下</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
回到/sys/bus/platform/devices/下ls –l也会发现test_ts连接到/sys/devices/platform/test_ts</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
为什么test_ts这个设备放置于/sys/devices/platform下,而不是/sys/bus/platform/devices下呢</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
我认为和直观性有关,在sys下有这么几个目录block &nbsp;bus &nbsp;class &nbsp;dev &nbsp;devices &nbsp;firmware &nbsp;kernel &nbsp;module &nbsp;fs power&nbsp;</div>
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">
devices很直观的说明了设备在这个目录下<br style="word-wrap:break-word">
再来看组成这个目录图的核心,kobject图,我也叫他层次图<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648054ATiG.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648054ATiG.png" width="596.13" height="708.35" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<br style="word-wrap:break-word">
<div style="word-wrap:break-word">不看大号绿色箭头右边的内容的话是不是发现两个架构相同?</div>
<div style="word-wrap:break-word">对的,kobject的层次决定了目录的结构</div>
<div style="word-wrap:break-word">kobeject图很大,但也不要担心,里面的内容其实不多,基础框架涉及3个主要结构kset kobject和ktype</div>
<div style="word-wrap:break-word">在说明test_ts的注册之前,先让我们看一下sys下的两个基础目录bus,devices</div>
<div style="word-wrap:break-word">首先是bus</div>
<div style="word-wrap:break-word">bus的注册在/drivers/base/bus.c里</div>
<div style="word-wrap:break-word">int __init buses_ini&nbsp;</div>
<div style="word-wrap:break-word">&nbsp;</div>
<div style="word-wrap:break-word">t(void)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_kset = kset_create_and_add("bus", &amp;bus_uevent_ops, NULL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!bus_kset)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">先看bus_uevent_ops,这是一个uevent的操作集(我也还没清楚uevent的用途,所以uevent的内容先放着)</div>
<div style="word-wrap:break-word">然后到kset_create_and_add</div>
<div style="word-wrap:break-word">struct kset *kset_create_and_add(const char *name,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct kset_uevent_ops *uevent_ops,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct kobject *parent_kobj)</div>
<div style="word-wrap:break-word">//传递进来的参数为("bus", &amp;bus_uevent_ops, NULL)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kset *kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //创建一个kset容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset = kset_create(name, uevent_ops, parent_kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!kset)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //注册创建的kset容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = kset_register(kset);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kfree(kset);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return kset;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">首先需要创建一个kset容器</div>
<div style="word-wrap:break-word">static struct kset *kset_create(const char *name,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct kset_uevent_ops *uevent_ops,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct kobject *parent_kobj)</div>
<div style="word-wrap:break-word">//传递进来的参数为("bus", &amp;bus_uevent_ops, NULL)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kset *kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //为kset分配内存</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset = kzalloc(sizeof(*kset), GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!kset)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置kset中kobject的名字,这里为bus</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_set_name(&amp;kset-&gt;kobj, name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置uevent操作集,这里为bus_uevent_ops</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset-&gt;uevent_ops = uevent_ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父对象,这里为NULL</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset-&gt;kobj.parent = parent_kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置容器操作集</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset-&gt;kobj.ktype = &amp;kset_ktype;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset-&gt;kobj.kset = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return kset;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">这里的ktype,也就是kset_ktype是一个操作集,用于为sys下文件的实时反馈做服务,例如我们cat name的时候就要通过ktype提供的show函数,具体什么怎么运用,将在后面讲解</div>
<div style="word-wrap:break-word">现在回到kset_create_and_add中的kset_register,将建立好的kset添加进sys里</div>
<div style="word-wrap:break-word">int kset_register(struct kset *k)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int err;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!k)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset_init(k);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加该容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; err = kobject_add_internal(&amp;k-&gt;kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (err)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return err;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;k-&gt;kobj, KOBJ_ADD);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">kset_init进行一些固定的初始化操作,里面没有我们需要关心的内容</div>
<div style="word-wrap:break-word">kobject_add_internal为重要的一个函数,他对kset里kobj的从属关系进行解析,搭建正确的架构</div>
<div style="word-wrap:break-word">static int kobject_add_internal(struct kobject *kobj)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject *parent;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测kobj是否为空</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!kobj)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOENT;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测kobj名字是否为空</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!kobj-&gt;name || !kobj-&gt;name[0]) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pr_debug("kobject: (%p): attempted to be registered with empty "</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"name!\n", kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WARN_ON(1);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //提取父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; parent = kobject_get(kobj-&gt;parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; /* join kset if set, use it as parent if we do not already have one */</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //父容器存在则设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (kobj-&gt;kset) {//在bus的kset中为空,所以不会进入到下面的代码</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //检测是否已经设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //无则使用父容器为父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent = kobject_get(&amp;kobj-&gt;kset-&gt;kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //添加该kobj到父容器的链表中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj_kset_join(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;parent = parent;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("kobject: '%s' (%p): %s: parent: '%s', set: '%s'\n",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kobject_name(kobj), kobj, __func__,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;parent ? kobject_name(parent) : "",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kobj-&gt;kset ? kobject_name(&amp;kobj-&gt;kset-&gt;kobj) : "");</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立相应的目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = create_dir(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj_kset_leave(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobject_put(parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;parent = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (error == -EEXIST)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s failed for %s with "</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"-EEXIST, don't try to register things with "</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"the same name in the same directory.\n",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__func__, kobject_name(kobj));</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s failed for %s (%d)\n",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__func__, kobject_name(kobj), error);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dump_stack();</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; } else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;state_in_sysfs = 1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">至此bus的目录就建立起来了</div>
<div style="word-wrap:break-word">模型如下<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648306VmvF.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648306VmvF.png" width="276" height="714" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<br style="word-wrap:break-word">
<div style="word-wrap:break-word">接下来是devices,在/drivers/base/core.c里</div>
<div style="word-wrap:break-word">int __init devices_init(void)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; devices_kset = kset_create_and_add("devices", &amp;device_uevent_ops, NULL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!devices_kset)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">过程和bus的注册一致,我就不复述了~</div>
<div style="word-wrap:break-word">模型如下<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648316NZ8Z.jpg" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648316NZ8Z.jpg" width="498" height="457" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<div style="word-wrap:break-word">然后是platform的注册</div>
<div style="word-wrap:break-word">在platform的注册中,分为两个部分,一部分是注册到devices中,另一部分是注册到bus中,代码在/drivers/base/platform.c中</div>
<div style="word-wrap:break-word">int __init platform_bus_init(void)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //注册到devices目录中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_register(&amp;platform_bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //注册到bus目录中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = &nbsp;bus_register(&amp;platform_bus_type);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div>
<div style="word-wrap:break-word">if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device_unregister(&amp;platform_bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">首先是device_register,注册的参数为platform_bus,如下所示</div>
<div style="word-wrap:break-word">struct device platform_bus = {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .bus_id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= "platform",</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">很简单,只有一个参数,表明了目录名</div>
<div style="word-wrap:break-word">int device_register(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化dev结构</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_initialize(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加dev至目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return device_add(dev);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">void device_initialize(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //重要的一步,指明了父容器为devices_kset,而devices_kset的注册在前面已经介绍过了</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dev-&gt;kobj.kset = devices_kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化kobj的ktype为device_ktype</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_init(&amp;dev-&gt;kobj, &amp;device_ktype);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_init(&amp;dev-&gt;klist_children, klist_children_get,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;klist_children_put);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;dma_pools);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;node);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; init_MUTEX(&amp;dev-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; spin_lock_init(&amp;dev-&gt;devres_lock);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;devres_head);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_init_wakeup(dev, 0);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; set_dev_node(dev, -1);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int device_add(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct device *parent = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct class_interface *class_intf;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dev = get_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!dev || !strlen(dev-&gt;bus_id)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto Done;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("device: '%s': %s\n", dev-&gt;bus_id, __func__);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; parent = get_device(dev-&gt;parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; setup_parent(dev, parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set_dev_node(dev, dev_to_node(parent));</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置dev-&gt;kobj的名字和父对象,并建立相应的目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = kobject_add(&amp;dev-&gt;kobj, dev-&gt;kobj.parent, "%s", dev-&gt;bus_id);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto Error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (platform_notify)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; platform_notify(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;bus)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocking_notifier_call_chain(&amp;dev-&gt;bus-&gt;p-&gt;bus_notifier,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BUS_NOTIFY_ADD_DEVICE, dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立uevent文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_create_file(dev, &amp;uevent_attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto attrError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (MAJOR(dev-&gt;devt)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = device_create_file(dev, &amp;devt_attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto ueventattrError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立subsystem连接文件连接到所属class,这里没有设置class对象所以不会建立</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_add_class_symlinks(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto SymlinkError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立dev的描述文件,这里没有设置描述文件所以不会建立</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_add_attrs(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto AttrsError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立链接文件至所属bus,这里没有设置所属bus所以不会建立</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = bus_add_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto BusError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加power文件,因为platform不属于设备,所以不会建立power文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_pm_add(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto PMError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;dev-&gt;kobj, KOBJ_ADD);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测驱动中有无适合的设备进行匹配,但没有设置bus,所以不会进行匹配</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_attach_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; klist_add_tail(&amp;dev-&gt;knode_parent, &amp;parent-&gt;klist_children);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;class) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; down(&amp;dev-&gt;class-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list_add_tail(&amp;dev-&gt;node, &amp;dev-&gt;class-&gt;devices);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list_for_each_entry(class_intf, &amp;dev-&gt;class-&gt;interfaces, node)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (class_intf-&gt;add_dev)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; class_intf-&gt;add_dev(dev, class_intf);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; up(&amp;dev-&gt;class-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">Done:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; put_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">PMError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_remove_device(dev);</div>
<div style="word-wrap:break-word">BusError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;bus)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocking_notifier_call_chain(&amp;dev-&gt;bus-&gt;p-&gt;bus_notifier,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BUS_NOTIFY_DEL_DEVICE, dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_attrs(dev);</div>
<div style="word-wrap:break-word">AttrsError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_class_symlinks(dev);</div>
<div style="word-wrap:break-word">SymlinkError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (MAJOR(dev-&gt;devt))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device_remove_file(dev, &amp;devt_attr);</div>
<div style="word-wrap:break-word">ueventattrError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_file(dev, &amp;uevent_attr);</div>
<div style="word-wrap:break-word">attrError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;dev-&gt;kobj, KOBJ_REMOVE);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_del(&amp;dev-&gt;kobj);</div>
<div style="word-wrap:break-word">Error:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; cleanup_device_parent(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; put_device(parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; goto Done;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">在kobject_add-&gt; kobject_add_varg-&gt; kobject_add_internal中</div>
<div style="word-wrap:break-word">//提取父对象,因为没有设置,所以为空</div>
<div style="word-wrap:break-word">parent = kobject_get(kobj-&gt;parent);</div>
<div style="word-wrap:break-word">//父容器存在则设置父对象,在前面的dev-&gt;kobj.kset = devices_kset中设为了devices_kset</div>
<div style="word-wrap:break-word">if (kobj-&gt;kset) {</div>
<div style="word-wrap:break-word">//检测是否已经设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //无则使用父容器为父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent = kobject_get(&amp;kobj-&gt;kset-&gt;kobj);</div>
<div style="word-wrap:break-word">//添加该kobj到父容器的链表中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj_kset_join(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;parent = parent;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">现在devices下的platform目录建立好了,模型如下,其中红线描绘了目录关系<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648321j0j7.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648321j0j7.png" width="601.2" height="1125.9" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<div style="word-wrap:break-word">现在到bus_register了</div>
<div style="word-wrap:break-word">注册的参数platform_bus_type如下所示</div>
<div style="word-wrap:break-word">struct bus_type platform_bus_type = {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= "platform",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .dev_attrs &nbsp; &nbsp; &nbsp; &nbsp;= platform_dev_attrs,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .match &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= platform_match,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .uevent &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= platform_uevent,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .suspend &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= platform_suspend,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .suspend_late &nbsp; &nbsp; &nbsp; &nbsp;= platform_suspend_late,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .resume_early &nbsp; &nbsp; &nbsp; &nbsp;= platform_resume_early,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .resume &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= platform_resume,</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">int bus_register(struct bus_type *bus)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int retval;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //声明一个总线私有数据并分配空间</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_type_private *priv;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv = kzalloc(sizeof(struct bus_type_private), GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!priv)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //互相关联</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;bus = bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus-&gt;p = priv;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; BLOCKING_INIT_NOTIFIER_HEAD(&amp;priv-&gt;bus_notifier);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置私有数据中kobj对象的名字</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = kobject_set_name(&amp;priv-&gt;subsys.kobj, "%s", bus-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父容器为bus_kset,操作集为bus_ktype</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;subsys.kobj.kset = bus_kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;subsys.kobj.ktype = &amp;bus_ktype;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;drivers_autoprobe = 1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //注册bus容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = kset_register(&amp;priv-&gt;subsys);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立uevent属性文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = bus_create_file(bus, &amp;bus_attr_uevent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto bus_uevent_fail;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立devices目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;devices_kset = kset_create_and_add("devices", NULL,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;priv-&gt;subsys.kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!priv-&gt;devices_kset) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto bus_devices_fail;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立drivers目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;drivers_kset = kset_create_and_add("drivers", NULL,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;priv-&gt;subsys.kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!priv-&gt;drivers_kset) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto bus_drivers_fail;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化klist_devices和klist_drivers链表</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_init(&amp;priv-&gt;klist_devices, klist_devices_get, klist_devices_put);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_init(&amp;priv-&gt;klist_drivers, NULL, NULL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //增加probe属性文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = add_probe_files(bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto bus_probe_files_fail;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //增加总线的属性文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = bus_add_attrs(bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto bus_attrs_fail;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("bus: '%s': registered\n", bus-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word">bus_attrs_fail:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; remove_probe_files(bus);</div>
<div style="word-wrap:break-word">bus_probe_files_fail:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset_unregister(bus-&gt;p-&gt;drivers_kset);</div>
<div style="word-wrap:break-word">bus_drivers_fail:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset_unregister(bus-&gt;p-&gt;devices_kset);</div>
<div style="word-wrap:break-word">bus_devices_fail:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_remove_file(bus, &amp;bus_attr_uevent);</div>
<div style="word-wrap:break-word">bus_uevent_fail:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset_unregister(&amp;bus-&gt;p-&gt;subsys);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kfree(bus-&gt;p);</div>
<div style="word-wrap:break-word">out:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return retval;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">在kset_register-&gt; kobject_add_internal中</div>
<div style="word-wrap:break-word">//提取父对象,因为没有设置父对象,所以为空</div>
<div style="word-wrap:break-word">parent = kobject_get(kobj-&gt;parent);</div>
<div style="word-wrap:break-word">//父容器存在则设置父对象,在上文中设置了父容器priv-&gt;subsys.kobj.kset = bus_kset</div>
<div style="word-wrap:break-word">if (kobj-&gt;kset) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测是否已经设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //无则使用父容器为父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent = kobject_get(&amp;kobj-&gt;kset-&gt;kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加该kobj到父容器的链表中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj_kset_join(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;parent = parent;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">在retval = kset_register(&amp;priv-&gt;subsys)完成之后platform在bus下的模型如下图</div>
<div style="word-wrap:break-word"><a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648345ucoU.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648345ucoU.png" width="596.96" height="870.2400000000001" border="0" alt="" style="word-wrap:break-word; border:0px"></a></div>
<div style="word-wrap:break-word"><br style="word-wrap:break-word">
</div>
<div style="word-wrap:break-word"><br style="word-wrap:break-word">
</div>
<div style="word-wrap:break-word">有印象的话大家还记得在platform下面有两个目录devices和drivers吧~</div>
<div style="word-wrap:break-word">现在就到这两个目录的注册了</div>
<div style="word-wrap:break-word">priv-&gt;devices_kset = kset_create_and_add("devices", NULL,&amp;priv-&gt;subsys.kobj);</div>
<div style="word-wrap:break-word">priv-&gt;drivers_kset = kset_create_and_add("drivers", NULL, &amp;priv-&gt;subsys.kobj);</div>
<div style="word-wrap:break-word">注意这两条语句的头部</div>
<div style="word-wrap:break-word">priv-&gt;devices_kset = kset_create_and_add</div>
<div style="word-wrap:break-word">priv-&gt;drivers_kset = kset_create_and_add</div>
<div style="word-wrap:break-word">可以清楚的看到bus_type_private下的devices_kset, drivers_kset分别连接到了devices,drivers的kset上</div>
<div style="word-wrap:break-word">现在来看kset_create_and_add("devices", NULL,&amp;priv-&gt;subsys.kobj);</div>
<div style="word-wrap:break-word">struct kset *kset_create_and_add(const char *name,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct kset_uevent_ops *uevent_ops,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct kobject *parent_kobj)</div>
<div style="word-wrap:break-word">//参数为"devices", NULL,&amp;priv-&gt;subsys.kobj</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kset *kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //创建一个kset容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kset = kset_create(name, uevent_ops, parent_kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!kset)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //注册创建的kset容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = kset_register(kset);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kfree(kset);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return kset;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">在kset_create 中比较重要的操作为</div>
<div style="word-wrap:break-word">kset-&gt;kobj.ktype = &amp;kset_ktype //设置了ktype,为kset_ktype</div>
<div style="word-wrap:break-word">kset-&gt;kobj.parent = parent_kobj; //设置了父对象,为priv-&gt;subsys.kobj,也就是platform_bus_type-&gt;p-&gt;subsys.kobj</div>
<div style="word-wrap:break-word">kset-&gt;kobj.kset = NULL; &nbsp; &nbsp;//设置父容器为空</div>
<div style="word-wrap:break-word">在kset_register中</div>
<div style="word-wrap:break-word">//提取父对象</div>
<div style="word-wrap:break-word">parent = kobject_get(kobj-&gt;parent); //在之前设置为了</div>
<div style="word-wrap:break-word">//父容器存在则设置父对象,由于父容器为空,不执行以下代码</div>
<div style="word-wrap:break-word">if (kobj-&gt;kset) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测是否已经设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //无则使用父容器为父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent = kobject_get(&amp;kobj-&gt;kset-&gt;kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加该kobj到父容器的链表中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj_kset_join(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj-&gt;parent = parent;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">至此, devices的模型就建立好了,drivers模型的建立和devices是一致的,只是名字不同而已,我就不复述了,建立好的模型如下</div>
<div style="word-wrap:break-word"><a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648350Z6zT.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332648350Z6zT.png" width="597.7" height="903.43" border="0" alt="" style="word-wrap:break-word; border:0px"></a></div>
<div style="word-wrap:break-word"><br style="word-wrap:break-word">
</div>
<div style="word-wrap:break-word">好了~ &nbsp;到了这里,bus,devices和platform的基础模型就就建立好了,就等设备来注册了<br style="word-wrap:break-word">
<br style="word-wrap:break-word">
<br style="word-wrap:break-word">
<div style="word-wrap:break-word">在platform模型设备的建立中,需要2个部分的注册,驱动的注册和设备的注册</div>
<div style="word-wrap:break-word">platform_device_register(&amp;test_device); &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word">platform_driver_register(&amp;test_driver);</div>
<div style="word-wrap:break-word">首先看platform_device_register</div>
<div style="word-wrap:break-word">注册参数为test_device,结构如下</div>
<div style="word-wrap:break-word">static struct platform_device test_device = {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .name = "test_ts",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .id = -1,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //. resource</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //.dev</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">这个结构主要描述了设备的名字,ID和资源和私有数据,其中资源和私有数据我们在这里不使用,将在别的文章中进行讲解</div>
<div style="word-wrap:break-word">int platform_device_register(struct platform_device *pdev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设备属性的初始化</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_initialize(&amp;pdev-&gt;dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //将设备添加进platform里</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return platform_device_add(pdev);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">void device_initialize(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dev-&gt;kobj.kset = devices_kset; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //设置kset为devices_kset,则将设备挂接上了devices目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_init(&amp;dev-&gt;kobj, &amp;device_ktype); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//初始化kobeject,置ktype为device_ktype</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_init(&amp;dev-&gt;klist_children, klist_children_get,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;klist_children_put);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;dma_pools);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;node);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; init_MUTEX(&amp;dev-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; spin_lock_init(&amp;dev-&gt;devres_lock);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; INIT_LIST_HEAD(&amp;dev-&gt;devres_head);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_init_wakeup(dev, 0);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; set_dev_node(dev, -1);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int platform_device_add(struct platform_device *pdev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int i, ret = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!pdev)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测是否设置了dev中的parent,无则赋为platform_bus</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!pdev-&gt;dev.parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pdev-&gt;dev.parent = &amp;platform_bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置dev中的bus为platform_bus_type</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pdev-&gt;dev.bus = &amp;platform_bus_type;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测id,id为-1表明该设备只有一个,用设备名为bus_id</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //不为1则表明该设备有数个,需要用序号标明bus_id</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (pdev-&gt;id != -1)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; snprintf(pdev-&gt;dev.bus_id, BUS_ID_SIZE, "%s.%d", pdev-&gt;name,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pdev-&gt;id);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strlcpy(pdev-&gt;dev.bus_id, pdev-&gt;name, BUS_ID_SIZE);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //增加资源到资源树中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; for (i = 0; i &lt; pdev-&gt;num_resources; i++) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct resource *p, *r = &amp;pdev-&gt;resource;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r-&gt;name == NULL)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; r-&gt;name = pdev-&gt;dev.bus_id;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = r-&gt;parent;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!p) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r-&gt;flags &amp; IORESOURCE_MEM)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = &amp;iomem_resource;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (r-&gt;flags &amp; IORESOURCE_IO)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = &amp;ioport_resource;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (p &amp;&amp; insert_resource(p, r)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s: failed to claim resource %d\n",pdev-&gt;dev.bus_id, i);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -EBUSY;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto failed;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("Registering platform device '%s'. Parent at %s\n",pdev-&gt;dev.bus_id, pdev-&gt;dev.parent-&gt;bus_id);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加设备到设备层次中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ret = device_add(&amp;pdev-&gt;dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (ret == 0)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">failed:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; while (--i &gt;= 0)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (pdev-&gt;resource.flags &amp; (IORESOURCE_MEM|IORESOURCE_IO))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; release_resource(&amp;pdev-&gt;resource);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int device_add(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct device *parent = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct class_interface *class_intf;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dev = get_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!dev || !strlen(dev-&gt;bus_id)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto Done;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("device: '%s': %s\n", dev-&gt;bus_id, __func__);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //取得上层device,而dev-&gt;parent的赋值是在platform_device_add中的pdev-&gt;dev.parent = &amp;platform_bus完成的</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; parent = get_device(dev-&gt;parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //以上层devices为准重设dev-&gt;kobj.parent</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; setup_parent(dev, parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set_dev_node(dev, dev_to_node(parent));</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置dev-&gt;kobj的名字和父对象,并建立相应目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = kobject_add(&amp;dev-&gt;kobj, dev-&gt;kobj.parent, "%s", dev-&gt;bus_id);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto Error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (platform_notify)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; platform_notify(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //一种新型的通知机制,但是platform中没有设置相应的结构,所以在这里跳过</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; /* notify clients of device entry (new way) */</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;bus)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocking_notifier_call_chain(&amp;dev-&gt;bus-&gt;p-&gt;bus_notifier,BUS_NOTIFY_ADD_DEVICE, dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立uevent文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_create_file(dev, &amp;uevent_attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto attrError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设备有设备号则建立dev文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (MAJOR(dev-&gt;devt)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = device_create_file(dev, &amp;devt_attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto ueventattrError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立subsystem连接文件连接到所属class</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_add_class_symlinks(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto SymlinkError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加dev的描述文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_add_attrs(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto AttrsError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加链接文件至所属bus</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = bus_add_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto BusError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加power文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = device_pm_add(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto PMError;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;dev-&gt;kobj, KOBJ_ADD);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测驱动中有无适合的设备进行匹配,现在只添加了设备,还没有加载驱动,所以不会进行匹配</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_attach_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; klist_add_tail(&amp;dev-&gt;knode_parent, &amp;parent-&gt;klist_children);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;class) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; down(&amp;dev-&gt;class-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list_add_tail(&amp;dev-&gt;node, &amp;dev-&gt;class-&gt;devices);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list_for_each_entry(class_intf, &amp;dev-&gt;class-&gt;interfaces, node)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (class_intf-&gt;add_dev)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; class_intf-&gt;add_dev(dev, class_intf);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; up(&amp;dev-&gt;class-&gt;sem);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">Done:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; put_device(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">PMError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_remove_device(dev);</div>
<div style="word-wrap:break-word">BusError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;bus)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocking_notifier_call_chain(&amp;dev-&gt;bus-&gt;p-&gt;bus_notifier,BUS_NOTIFY_DEL_DEVICE, dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_attrs(dev);</div>
<div style="word-wrap:break-word">AttrsError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_class_symlinks(dev);</div>
<div style="word-wrap:break-word">SymlinkError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (MAJOR(dev-&gt;devt))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device_remove_file(dev, &amp;devt_attr);</div>
<div style="word-wrap:break-word">ueventattrError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; device_remove_file(dev, &amp;uevent_attr);</div>
<div style="word-wrap:break-word">attrError:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;dev-&gt;kobj, KOBJ_REMOVE);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_del(&amp;dev-&gt;kobj);</div>
<div style="word-wrap:break-word">Error:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; cleanup_device_parent(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; put_device(parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; goto Done;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">static void setup_parent(struct device *dev, struct device *parent)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject *kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //取得上层device的kobj</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobj = get_device_parent(dev, parent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //kobj不为空则重设dev-&gt;kobj.parent</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (kobj)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dev-&gt;kobj.parent = kobj;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">static struct kobject *get_device_parent(struct device *dev,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct device *parent)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int retval;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //因为dev-&gt;class为空,所以跳过这段代码</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (dev-&gt;class) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct kobject *kobj = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct kobject *parent_kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct kobject *k;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (parent == NULL)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent_kobj = virtual_device_parent(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (parent-&gt;class)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return &amp;parent-&gt;kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent_kobj = &amp;parent-&gt;kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; spin_lock(&amp;dev-&gt;class-&gt;class_dirs.list_lock);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list_for_each_entry(k, &amp;dev-&gt;class-&gt;class_dirs.list, entry)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (k-&gt;parent == parent_kobj) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobj = kobject_get(k);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; spin_unlock(&amp;dev-&gt;class-&gt;class_dirs.list_lock);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (kobj)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k = kobject_create();</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!k)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k-&gt;kset = &amp;dev-&gt;class-&gt;class_dirs;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = kobject_add(k, parent_kobj, "%s", dev-&gt;class-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (retval &lt; 0) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kobject_put(k);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return k;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (parent)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //返回上层device的kobj</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return &amp;parent-&gt;kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">在bus_attach_device中虽然没有成功进行匹配,但是有很重要的一步为之后正确的匹配打下基础</div>
<div style="word-wrap:break-word">void bus_attach_device(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_type *bus = dev-&gt;bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int ret = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (bus) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (bus-&gt;p-&gt;drivers_autoprobe)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = device_attach(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WARN_ON(ret &lt; 0);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (ret &gt;= 0)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; klist_add_tail(&amp;dev-&gt;knode_bus, &amp;bus-&gt;p-&gt;klist_devices);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">klist_add_tail(&amp;dev-&gt;knode_bus, &amp;bus-&gt;p-&gt;klist_devices)就是这一行</div>
<div style="word-wrap:break-word">在这一行代码中将设备挂载到了bus下的devices链表下,这样,当驱动请求匹配的时候,platform总线就会历遍devices链表为驱动寻找合适的设备</div>
<div style="word-wrap:break-word">现在来看一下test_device的模型<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655081AAHd.png" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655081AAHd.png" width="595.35" height="1167.75" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<div style="word-wrap:break-word">然后platform_driver_unregister,他的参数 test_driver的结构如下</div>
<div style="word-wrap:break-word">static struct platform_driver test_driver = {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .probe &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= test_probe,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .remove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= test_remove,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .driver &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp;= "test_ts",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .owner &nbsp; &nbsp; &nbsp; &nbsp;= THIS_MODULE,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; },</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">int platform_driver_register(struct platform_driver *drv)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.bus = &amp;platform_bus_type;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;probe)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.probe = platform_drv_probe;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;remove)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.remove = platform_drv_remove;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;shutdown)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.shutdown = platform_drv_shutdown;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;suspend)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.suspend = platform_drv_suspend;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;resume)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;driver.resume = platform_drv_resume;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return driver_register(&amp;drv-&gt;driver);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">从上面代码可以看出,在platform_driver中设置了probe, remove, shutdown, suspend或resume函数的话</div>
<div style="word-wrap:break-word">则drv-&gt;driver也会设置成platform对应的函数</div>
<div style="word-wrap:break-word">int driver_register(struct device_driver *drv)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int ret;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct device_driver *other;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测总线的操作函数和驱动的操作函数是否同时存在,同时存在则提示使用总线提供的操作函数</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if ((drv-&gt;bus-&gt;probe &amp;&amp; drv-&gt;probe) ||</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (drv-&gt;bus-&gt;remove &amp;&amp; drv-&gt;remove) ||</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (drv-&gt;bus-&gt;shutdown &amp;&amp; drv-&gt;shutdown))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_WARNING "Driver '%s' needs updating - please use ""bus_type methods\n", drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测是否已经注册过</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; other = driver_find(drv-&gt;name, drv-&gt;bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (other) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; put_driver(other);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "Error: Driver '%s' is already registered, “"aborting...\n", drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -EEXIST;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //添加驱动到总线上</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ret = bus_add_driver(drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (ret)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ret = driver_add_groups(drv, drv-&gt;groups);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (ret)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bus_remove_driver(drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int bus_add_driver(struct device_driver *drv)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_type *bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct driver_private *priv;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //取bus结构</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus = bus_get(drv-&gt;bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!bus)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("bus: '%s': add driver %s\n", bus-&gt;name, drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //分配驱动私有数据</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv = kzalloc(sizeof(*priv), GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!priv) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out_put_bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化klist_devices链表</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_init(&amp;priv-&gt;klist_devices, NULL, NULL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //互相关联</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;driver = drv;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; drv-&gt;p = priv;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //设置私有数据的父容器,在这一步中,设置了kset为platform下的drivers_kset结构,也就是drivers呢个目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; priv-&gt;kobj.kset = bus-&gt;p-&gt;drivers_kset;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //初始化kobj对象,设置容器操作集并建立相应的目录,这里由于没有提供parent,所以会使用父容器中的kobj为父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = kobject_init_and_add(&amp;priv-&gt;kobj, &amp;driver_ktype, NULL,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"%s", drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out_unregister;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //检测所属总线的drivers_autoprobe属性是否为真</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //为真则进行与设备的匹配,到这里,就会与我们之前注册的test_device连接上了,至于如何连接,进行了什么操作,将在别的文章中详细描述</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (drv-&gt;bus-&gt;p-&gt;drivers_autoprobe) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = driver_attach(drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out_unregister;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //挂载到所属总线驱动链表上</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; klist_add_tail(&amp;priv-&gt;knode_bus, &amp;bus-&gt;p-&gt;klist_drivers);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; module_add_driver(drv-&gt;owner, drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立uevent属性文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = driver_create_file(drv, &amp;driver_attr_uevent);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s: uevent attr (%s) failed\n",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __func__, drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //建立设备属性文件</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = driver_add_attrs(bus, drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s: driver_add_attrs(%s) failed\n",__func__, drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = add_bind_files(drv);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "%s: add_bind_files(%s) failed\n",__func__, drv-&gt;name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_uevent(&amp;priv-&gt;kobj, KOBJ_ADD);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">out_unregister:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kobject_put(&amp;priv-&gt;kobj);</div>
<div style="word-wrap:break-word">out_put_bus:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; bus_put(bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">到这里test_driver的模型就建立好了,图就是最上面的层次图,我就不再贴了</div>
<div style="word-wrap:break-word">到这里一个基本的框架就建立起来了~</div>
<div style="word-wrap:break-word">&nbsp;</div>
<div style="word-wrap:break-word">下面,我开始对kobject kset和ktype做分析</div>
<div style="word-wrap:break-word">先说说关系,ktype与kobject和kset这两者之前的关系较少,让我画一个图,是这样的<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655178ilc0.jpg" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655178ilc0.jpg" width="153" height="188" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<div style="word-wrap:break-word">ktype依赖于kobject,kset也依赖于kobject,而kobject有时需要kset(所以用了一个白箭头),不一定需要ktype(真可怜,连白箭头都没有)</div>
<div style="word-wrap:break-word">首先先说一下这个可有可无的ktype</div>
<div style="word-wrap:break-word">到/sys/bus/platform下面可以看见一个drivers_autoprobe的文件</div>
<div style="word-wrap:break-word">cat drivers_autoprobe可以查看这个文件的值</div>
<div style="word-wrap:break-word">echo 0 &gt; drivers_autoprobe则可以改变这个文件的值</div>
<div style="word-wrap:break-word">drivers_autoprobe这个文件表示的是是否自动进行初始化</div>
<div style="word-wrap:break-word">在</div>
<div style="word-wrap:break-word">void bus_attach_device(struct device *dev)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_type *bus = dev-&gt;bus;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int ret = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (bus) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (bus-&gt;p-&gt;drivers_autoprobe)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = device_attach(dev);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WARN_ON(ret &lt; 0);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (ret &gt;= 0)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; klist_add_tail(&amp;dev-&gt;knode_bus, &amp;bus-&gt;p-&gt;klist_devices);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">中可以看见这么一段代码</div>
<div style="word-wrap:break-word">if (bus-&gt;p-&gt;drivers_autoprobe)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ret = device_attach(dev);</div>
<div style="word-wrap:break-word">bus-&gt;p-&gt;drivers_autoprobe的值为真则进行匹配</div>
<div style="word-wrap:break-word">而drivers_autoprobe这个文件则可以动态的修改这个值选择是否进行匹配</div>
<div style="word-wrap:break-word">使用外部文件修改内核参数,ktype就是提供了这么一种方法</div>
<div style="word-wrap:break-word">现在让我们看看ktype是怎么通过kobject进行运作的</div>
<div style="word-wrap:break-word">首先是ktype及通过ktype进行运作的drivers_autoprobe的注册</div>
<div style="word-wrap:break-word">ktype的挂载十分简单,因为他是和kobject是一体的</div>
<div style="word-wrap:break-word">只有这么下面一句 &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word">priv-&gt;subsys.kobj.ktype = &amp;bus_ktype;</div>
<div style="word-wrap:break-word">这样就将bus_ktype挂载到了platform_bus_type的kobject上</div>
<div style="word-wrap:break-word">drivers_autoprobe的注册如下</div>
<div style="word-wrap:break-word">retval = bus_create_file(bus, &amp;bus_attr_drivers_autoprobe);</div>
<div style="word-wrap:break-word">bus_attr_drivers_autoprobe这个结构由一系列的宏进行组装</div>
<div style="word-wrap:break-word">static BUS_ATTR(drivers_autoprobe, S_IWUSR | S_IRUGO,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; show_drivers_autoprobe, store_drivers_autoprobe);</div>
<div style="word-wrap:break-word">#define BUS_ATTR(_name, _mode, _show, _store) &nbsp; &nbsp; &nbsp; &nbsp;\</div>
<div style="word-wrap:break-word">struct bus_attribute bus_attr_##_name = __ATTR(_name, _mode, _show, _store)</div>
<div style="word-wrap:break-word">#define __ATTR(_name,_mode,_show,_store) { \</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .attr = {.name = __stringify(_name), .mode = _mode }, &nbsp; &nbsp; &nbsp; &nbsp;\</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .show &nbsp; &nbsp; &nbsp; &nbsp;= _show, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .store &nbsp; &nbsp; &nbsp; &nbsp;= _store, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">最后bus_attr_drivers_autoprobe的模型如下</div>
<div style="word-wrap:break-word">struct bus_attribute &nbsp;bus_attr_drivers_autoprobe&nbsp;</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .attr = {</div>
<div style="word-wrap:break-word">.name = “drivers_autoprobe”,</div>
<div style="word-wrap:break-word">.mode = S_IWUSR | S_IRUGO&nbsp;</div>
<div style="word-wrap:break-word">}, &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .show &nbsp; &nbsp; &nbsp; &nbsp;= show_drivers_autoprobe, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .store &nbsp; &nbsp; &nbsp; &nbsp;= store_drivers_autoprobe, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">进入到bus_create_file中</div>
<div style="word-wrap:break-word">int bus_create_file(struct bus_type *bus, struct bus_attribute *attr)</div>
<div style="word-wrap:break-word">//参数为(bus, &amp;bus_attr_drivers_autoprobe)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (bus_get(bus)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = sysfs_create_file(&amp;bus-&gt;p-&gt;subsys.kobj, &amp;attr-&gt;attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bus_put(bus);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; } else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error = -EINVAL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int sysfs_create_file(struct kobject * kobj, const struct attribute * attr)</div>
<div style="word-wrap:break-word">//参数为(&amp;bus-&gt;p-&gt;subsys.kobj, &amp;attr-&gt;attr)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; BUG_ON(!kobj || !kobj-&gt;sd || !attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return sysfs_add_file(kobj-&gt;sd, attr, SYSFS_KOBJ_ATTR);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int sysfs_add_file(struct sysfs_dirent *dir_sd, const struct attribute *attr,int type)</div>
<div style="word-wrap:break-word">//参数为(&amp;bus-&gt;p-&gt;subsys.kobj -&gt;sd, &amp;attr-&gt;attr, SYSFS_KOBJ_ATTR)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return sysfs_add_file_mode(dir_sd, attr, type, attr-&gt;mode);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">int sysfs_add_file_mode(struct sysfs_dirent *dir_sd,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const struct attribute *attr, int type, mode_t amode)</div>
<div style="word-wrap:break-word">//整理一下参数,现在应该为</div>
<div style="word-wrap:break-word">//(&amp;platform_bus_type-&gt;p-&gt;subsys.kobj -&gt;sd, &amp;bus_attr_drivers_autoprobe-&gt;attr, SYSFS_KOBJ_ATTR, &amp;bus_attr_drivers_autoprobe-&gt;attr-&gt;mode)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; umode_t mode = (amode &amp; S_IALLUGO) | S_IFREG;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_addrm_cxt acxt;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *sd;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int rc;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //在这一步中可以看出新建了一个节点</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd = sysfs_new_dirent(attr-&gt;name, mode, type);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!sd)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //这一步挂载了&amp;bus_attr_drivers_autoprobe-&gt;attr到节点中,为以后提取attr及上层结构做准备</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd-&gt;s_attr.attr = (void *)attr;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; // dir_sd也就是上层目录,在这里为platform_bus_type-&gt;p-&gt;subsys.kobj -&gt;sd</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //也就是/sys/bus/platform这个目录</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sysfs_addrm_start(&amp;acxt, dir_sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; rc = sysfs_add_one(&amp;acxt, sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sysfs_addrm_finish(&amp;acxt);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (rc)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sysfs_put(sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return rc;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">struct sysfs_dirent *sysfs_new_dirent(const char *name, umode_t mode, int type)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; char *dup_name = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *sd;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (type &amp; SYSFS_COPY_NAME) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name = dup_name = kstrdup(name, GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!name)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd = kmem_cache_zalloc(sysfs_dir_cachep, GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!sd)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (sysfs_alloc_ino(&amp;sd-&gt;s_ino))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out2;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; atomic_set(&amp;sd-&gt;s_count, 1);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; atomic_set(&amp;sd-&gt;s_active, 0);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd-&gt;s_name = name; &nbsp; //节点的名字为&amp;bus_attr_drivers_autoprobe-&gt;attr-&gt;name &nbsp;也就是drivers_autoprobe</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd-&gt;s_mode = mode;</div>
<div style="word-wrap:break-word">sd-&gt;s_flags = type; &nbsp; //节点的type为SYSFS_KOBJ_ATTR</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return sd;</div>
<div style="word-wrap:break-word">err_out2:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kmem_cache_free(sysfs_dir_cachep, sd);</div>
<div style="word-wrap:break-word">err_out1:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kfree(dup_name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return NULL;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">现在一切准备就绪,来看看怎么读取吧</div>
<div style="word-wrap:break-word">首先是open,大概流程可以看我的另一篇文章&lt;从文件到设备&gt;,一直看到ext3_lookup</div>
<div style="word-wrap:break-word">这里和ext3_lookup不同的是,sys的文件系统是sysfs文件系统,所以应该使用的lookup函数为sysfs_lookup(/fs/sysfs/dir.c)</div>
<div style="word-wrap:break-word">static struct dentry * sysfs_lookup(struct inode *dir, struct dentry *dentry,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct nameidata *nd)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct dentry *ret = NULL;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *parent_sd = dentry-&gt;d_parent-&gt;d_fsdata;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *sd;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct inode *inode;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; mutex_lock(&amp;sysfs_mutex);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sd = sysfs_find_dirent(parent_sd, dentry-&gt;d_name.name);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!sd) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = ERR_PTR(-ENOENT);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out_unlock;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //节点的初始化在这里</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode = sysfs_get_inode(sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!inode) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = ERR_PTR(-ENOMEM);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out_unlock;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dentry-&gt;d_op = &amp;sysfs_dentry_ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; dentry-&gt;d_fsdata = sysfs_get(sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; d_instantiate(dentry, inode);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; d_rehash(dentry);</div>
<div style="word-wrap:break-word">out_unlock:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; mutex_unlock(&amp;sysfs_mutex);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">struct inode * sysfs_get_inode(struct sysfs_dirent *sd)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct inode *inode;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode = iget_locked(sysfs_sb, sd-&gt;s_ino);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (inode &amp;&amp; (inode-&gt;i_state &amp; I_NEW))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //为节点赋值</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sysfs_init_inode(sd, inode);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return inode;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">static void sysfs_init_inode(struct sysfs_dirent *sd, struct inode *inode)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bin_attribute *bin_attr;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_blocks = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_mapping-&gt;a_ops = &amp;sysfs_aops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_mapping-&gt;backing_dev_info = &amp;sysfs_backing_dev_info;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_op = &amp;sysfs_inode_operations;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_ino = sd-&gt;s_ino;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; lockdep_set_class(&amp;inode-&gt;i_mutex, &amp;sysfs_inode_imutex_key);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (sd-&gt;s_iattr) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set_inode_attr(inode, sd-&gt;s_iattr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; } else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set_default_inode_attr(inode, sd-&gt;s_mode);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //判断类型</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; switch (sysfs_type(sd)) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; case SYSFS_DIR:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_op = &amp;sysfs_dir_inode_operations;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_fop = &amp;sysfs_dir_operations;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_nlink = sysfs_count_nlink(sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //还记得在注册的时候有一个参数为SYSFS_KOBJ_ATTR赋到了sd-&gt;s_flags上面吧</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; case SYSFS_KOBJ_ATTR:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_size = PAGE_SIZE;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_fop = &amp;sysfs_file_operations;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; case SYSFS_KOBJ_BIN_ATTR:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bin_attr = sd-&gt;s_bin_attr.bin_attr;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_size = bin_attr-&gt;size;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_fop = &amp;bin_fops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; case SYSFS_KOBJ_LINK:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inode-&gt;i_op = &amp;sysfs_symlink_inode_operations;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; default:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUG();</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; unlock_new_inode(inode);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">sysfs_file_operations的结构如下,之后open和read,write都明了了</div>
<div style="word-wrap:break-word">const struct file_operations sysfs_file_operations = {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .read &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= sysfs_read_file,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .write &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= sysfs_write_file,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .llseek &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= generic_file_llseek,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .open &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= sysfs_open_file,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .release &nbsp; &nbsp; &nbsp; &nbsp;= sysfs_release,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; .poll &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= sysfs_poll,</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">有关在哪调用open还是请查阅我的另一篇文章&lt;从文件到设备&gt;中 nameidata_to_filp之后的操作</div>
<div style="word-wrap:break-word">好的~ &nbsp;现在进入到了sysfs_open_file中</div>
<div style="word-wrap:break-word">static int sysfs_open_file(struct inode *inode, struct file *file)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *attr_sd = file-&gt;f_path.dentry-&gt;d_fsdata;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //要重的取值,在这里取得了drivers_autoprobe的目录platform的kproject</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject *kobj = attr_sd-&gt;s_parent-&gt;s_dir.kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_buffer *buffer;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_ops *ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int error = -EACCES;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!sysfs_get_active_two(attr_sd))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENODEV;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (kobj-&gt;ktype &amp;&amp; kobj-&gt;ktype-&gt;sysfs_ops)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //这里可谓是ktype实现中的核心,在这里ops设置成了platform_bus_type中kobject-&gt;ktype的sysfs_ops</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ops = kobj-&gt;ktype-&gt;sysfs_ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; else {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printk(KERN_ERR "missing sysfs attribute operations for ""kobject: %s\n", kobject_name(kobj));</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WARN_ON(1);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (file-&gt;f_mode &amp; FMODE_WRITE) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!(inode-&gt;i_mode &amp; S_IWUGO) || !ops-&gt;store)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (file-&gt;f_mode &amp; FMODE_READ) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!(inode-&gt;i_mode &amp; S_IRUGO) || !ops-&gt;show)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; buffer = kzalloc(sizeof(struct sysfs_buffer), GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!buffer)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; mutex_init(&amp;buffer-&gt;mutex);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;needs_read_fill = 1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //然后将设置好的ops挂载到buffer上</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;ops = ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //再将buffer挂载到file-&gt;private_data中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; file-&gt;private_data = buffer;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; error = sysfs_get_open_dirent(attr_sd, buffer);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (error)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto err_free;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sysfs_put_active_two(attr_sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</div>
<div style="word-wrap:break-word">err_free:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; kfree(buffer);</div>
<div style="word-wrap:break-word">err_out:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sysfs_put_active_two(attr_sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return error;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">现在已经为read和write操作准备好了</div>
<div style="word-wrap:break-word">马上进入到read操作中<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655282iuF3.jpg" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655282iuF3.jpg" width="184" height="409" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
整个流程如上图所示,如何进入到sysfs_read_file在上面open的操作中已经说明了
<div style="word-wrap:break-word">我们就从sysfs_read_file开始分析(该文件在/fs/sysfs/file.c中)</div>
<div style="word-wrap:break-word">sysfs_read_file(struct file *file, char __user *buf, size_t count, loff_t *ppos)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_buffer * buffer = file-&gt;private_data;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ssize_t retval = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; mutex_lock(&amp;buffer-&gt;mutex);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (buffer-&gt;needs_read_fill || *ppos == 0) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //主要操作在fill_read_buffer中</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retval = fill_read_buffer(file-&gt;f_path.dentry,buffer);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (retval)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto out;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; pr_debug("%s: count = %zd, ppos = %lld, buf = %s\n",__func__, count, *ppos, buffer-&gt;page);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; retval = simple_read_from_buffer(buf, count, ppos, buffer-&gt;page,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;buffer-&gt;count);</div>
<div style="word-wrap:break-word">out:</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; mutex_unlock(&amp;buffer-&gt;mutex);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return retval;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">static int fill_read_buffer(struct dentry * dentry, struct sysfs_buffer * buffer)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent *attr_sd = dentry-&gt;d_fsdata;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //取得父目录的kobject,也就是platform的kobject</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject *kobj = attr_sd-&gt;s_parent-&gt;s_dir.kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //还记得这个buffer-&gt;ops在什么时候进行赋值的么?</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_ops * ops = buffer-&gt;ops;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; int ret = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ssize_t count;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!buffer-&gt;page)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;page = (char *) get_zeroed_page(GFP_KERNEL);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!buffer-&gt;page)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENOMEM;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (!sysfs_get_active_two(attr_sd))</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -ENODEV;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;event = atomic_read(&amp;attr_sd-&gt;s_attr.open-&gt;event);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //调用ops-&gt;show &nbsp;也就是bus_sysfs_ops-&gt;show &nbsp; &nbsp;具体就是bus_attr_show了</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //参数为父目录的kobject, bus_attr_drivers_autoprobe-&gt;attr,和一段char信息</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; count = ops-&gt;show(kobj, attr_sd-&gt;s_attr.attr, buffer-&gt;page);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; sysfs_put_active_two(attr_sd);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (count &gt;= (ssize_t)PAGE_SIZE) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print_symbol("fill_read_buffer: %s returned bad count\n",</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (unsigned long)ops-&gt;show);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Try to struggle along */</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; count = PAGE_SIZE - 1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (count &gt;= 0) {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;needs_read_fill = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buffer-&gt;count = count;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; } else {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = count;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; }</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">现在进入bus_attr_show中</div>
<div style="word-wrap:break-word">static ssize_t bus_attr_show(struct kobject *kobj, struct attribute *attr,char *buf)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //提取attr的上层结构,也就是bus_attr_drivers_autoprobe</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_attribute *bus_attr = to_bus_attr(attr);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; //提取kobj的上上层结构,也就是bus_type_private</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct bus_type_private *bus_priv = to_bus(kobj);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; ssize_t ret = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (bus_attr-&gt;show)</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //终于到了这里,最后的调用,调用bus_attr_drivers_autoprobe.show ,也就是show_drivers_autoprobe</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //参数为bus_priv-&gt;bus,也就是platform_bus_type , 及一段char信息</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = bus_attr-&gt;show(bus_priv-&gt;bus, buf);</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">static ssize_t show_drivers_autoprobe(struct bus_type *bus, char *buf)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return sprintf(buf, "%d\n", bus-&gt;p-&gt;drivers_autoprobe);</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">没什么好介绍了就是打印 buf + bus-&gt;p-&gt;drivers_autoprobe &nbsp; 从结果来看~ buf是空的</div>
<div style="word-wrap:break-word">到这里,终于把内核的信息给打印出来了,千辛万苦,层层调用,就是为了取得上层kobject结构,逆运算再取得kobject的上层结构</div>
<div style="word-wrap:break-word">大家是否对kobject有所了解了呢?~ &nbsp;</div>
<div style="word-wrap:break-word">在对kobject进行介绍之前 &nbsp;还是先把write操作讲完吧 哈哈~</div>
<div style="word-wrap:break-word">write操作和read操作重要的步骤基本是一致的,只不过在最后的调用中</div>
<div style="word-wrap:break-word">static ssize_t store_drivers_autoprobe(struct bus_type *bus,</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const char *buf, size_t count)</div>
<div style="word-wrap:break-word">{</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; if (buf[0] == '0')</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bus-&gt;p-&gt;drivers_autoprobe = 0;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; else</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bus-&gt;p-&gt;drivers_autoprobe = 1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; return count;</div>
<div style="word-wrap:break-word">}</div>
<div style="word-wrap:break-word">不进行打印而对内核的参数进行了修改而已</div>
<div style="word-wrap:break-word">好~ 现在让我们来看看kobject吧</div>
<div style="word-wrap:break-word">kobject的结构如下</div>
<div style="word-wrap:break-word">struct kobject {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; const char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*name; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//kobject的名字</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kref &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kref; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//kobject的原子操作</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct list_head &nbsp; &nbsp; &nbsp; &nbsp;entry;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*parent; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//父对象</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kset &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*kset; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//父容器</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobj_type &nbsp; &nbsp; &nbsp; &nbsp;*ktype; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//ktype</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct sysfs_dirent &nbsp; &nbsp; &nbsp; &nbsp;*sd; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//文件节点</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; unsigned int state_initialized:1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; unsigned int state_in_sysfs:1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; unsigned int state_add_uevent_sent:1;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; unsigned int state_remove_uevent_sent:1;</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">kobject描述的是较具体的对象,一个设备,一个驱动,一个总线,一类设备</div>
<div style="word-wrap:break-word">在层次图上可以看出,每个存在于层次图中的设备,驱动,总线,类别都有自己的kobject</div>
<div style="word-wrap:break-word">kobject与kobject之间的层次由kobject中的parent指针决定</div>
<div style="word-wrap:break-word">而kset指针则表明了kobject的容器</div>
<div style="word-wrap:break-word">像platform_bus 和test_device的kset都是devices_kset</div>
<div style="word-wrap:break-word">呢parent和kset有什么不同呢</div>
<div style="word-wrap:break-word">我认为是人工和默认的区别,看下面这张图 ,蓝框为kset,红框为kobject<br style="word-wrap:break-word">
<a target="_blank" href="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655290A5k8.jpg" rel="nofollow" style="word-wrap:break-word; text-decoration:none; color:rgb(86,86,86)"><img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/20672257_1332655290A5k8.jpg" width="499" height="248" border="0" alt="" style="word-wrap:break-word; border:0px"></a><br style="word-wrap:break-word">
<div style="word-wrap:break-word">容器提供了一种默认的层次~ &nbsp;但也可以人工设置层次</div>
<div style="word-wrap:break-word">对于kobject现在我只理解了这么多,欢迎大家指出有疑问的地方</div>
<div style="word-wrap:break-word">最后是kset,kset比较简单,看下面的结构</div>
<div style="word-wrap:break-word">struct kset {</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct list_head list;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; spinlock_t list_lock;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kobject kobj;</div>
<div style="word-wrap:break-word">&nbsp; &nbsp; &nbsp; &nbsp; struct kset_uevent_ops *uevent_ops;</div>
<div style="word-wrap:break-word">};</div>
<div style="word-wrap:break-word">对于kset的描述,文档里也有介绍</div>
<div style="word-wrap:break-word">/**</div>
<div style="word-wrap:break-word">* struct kset - a set of kobjects of a specific type, belonging to a specific subsystem.</div>
<div style="word-wrap:break-word">*</div>
<div style="word-wrap:break-word">* A kset defines a group of kobjects. &nbsp;They can be individually</div>
<div style="word-wrap:break-word">* different "types" but overall these kobjects all want to be grouped</div>
<div style="word-wrap:break-word">* together and operated on in the same manner. &nbsp;ksets are used to</div>
<div style="word-wrap:break-word">* define the attribute callbacks and other common events that happen to</div>
<div style="word-wrap:break-word">* a kobject.</div>
<div style="word-wrap:break-word">翻译过来大概就是</div>
<div style="word-wrap:break-word">结构kset,一个指定类型的kobject的集合,属于某一个指定的子系统</div>
<div style="word-wrap:break-word">kset定义了一组kobject,它们可以是不同类型组成但却希望捆在一起有一个统一的操作</div>
<div style="word-wrap:break-word">kset通常被定义为回调属性和其他通用的事件发生在kobject上</div>
<div style="word-wrap:break-word">可能翻译的不是很好,望大家见谅</div>
<div style="word-wrap:break-word">从结构中能看出kset比kobject多了3个属性</div>
<div style="word-wrap:break-word">list_head &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//列表</div>
<div style="word-wrap:break-word">spinlock_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//共享锁</div>
<div style="word-wrap:break-word">kset_uevent_ops &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//uevent操作集</div>
<div style="word-wrap:break-word">list_head &nbsp; &nbsp; &nbsp; &nbsp;连接了所有kobject中kset属性指向自己的kobject</div>
<div style="word-wrap:break-word">而kset_uevent_ops则用于通知机制,由于uevent的作用我也没接触过,所以暂不解析uevent的机制了</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
          </div>
                  </div>
  </article>
</div>

<div class="hide-article-box hide-article-pos text-center">
      <a class="" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wh8_2011/article/details/51678924,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wh8_2011/article/details/51678924,&quot;}">
    展开阅读全文
    <svg class="icon chevrondown" aria-hidden="true">
        <use xlink:href="#csdnc-chevrondown"></use>
      </svg>
    </a>
    </div>
<script>
  $(".MathJax").remove();
  if ($('div.markdown_views pre.prettyprint code.hljs').length > 0) {
    $('div.markdown_views')[0].className = 'markdown_views';
  }
</script>        <div id="dmp_ad_58"><div id="kp_box_58" data-pid="58" data-track-view="{&quot;mod&quot;:&quot;kp_popu_58-402&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_58-402&quot;,&quot;con&quot;:&quot;,,&quot;}"><div style="width:100%;background:#fff;border:3px solid #fff;padding:16px 0px 0px 0px;">
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/mvf_news_feed.js"></script>
<div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194560533_147" id="QIHOO__WEB__SO__1561194560533_147" style="display:block;margin:0;padding:0;border:none;width:900px;height:100px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194560533_147-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194560533_147 singleImage clk" data-href="https://ssxd.mediav.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fb34fd475&amp;price=AAAAAF0N8D4AAAAAAA3uOxGl8NlJSFJS58To1w==&amp;finfo=DAABCAABAAACtAgAAgAAADwEAAM/fiTEcehBoQAIAAIAAAADCgADbcV2QNOQjkAIAAQAAABeBgAGLbcGAAoAAAgADgAAABUKAA8AAAAAAGmXQAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FZy4mwIlAhUCFty7/IuUyrbF2wEV8ggl+pbjiw4UBBUAFRoUABwWxqPsv5jhyIIBFQAAAA&amp;ubi=Ffb4TxX03uACFbbXpBgV0Mj4WhUEFSIW4oeMlhcW3LuR852Qu8XbATQCFrDikIAgJQYV6u/J4gQV1AUVACQUFrCb+o/vr/afiwEA&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;csign2=IgHyS0ltd54=&amp;url=http%3A%2F%2Fwww.honghedental.com%2Fzt%2Fztzzy%2F%3F360xxl-ZZY-qcfz" data-pv="https://ssxd.mediav.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAACtAgAAgAAADwEAAM/fiTEcehBoQAIAAIAAAADCgADbcV2QNOQjkAIAAQAAABeBgAGLbcGAAoAAAgADgAAABUKAA8AAAAAAGmXQAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fb34fd475&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FZy4mwIlAhUCFty7/IuUyrbF2wEV8ggl+pbjiw4UBBUAFRoUABwWxqPsv5jhyIIBFQAAAA&amp;ubi=Ffb4TxX03uACFbbXpBgV0Mj4WhUEFSIW4oeMlhcW3LuR852Qu8XbATQCFrDikIAgJQYV6u/J4gQV1AUVACQUFrCb+o/vr/afiwEA&amp;ds=1&amp;price=AAAAAF0N8D4AAAAAAA3uOxGl8NlJSFJS58To1w==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYjM0ZmQ0NzUYjtyNASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYWAkAKQAZCAjAI&amp;k=FNZ3wwAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA3uaAdT7XGw6bYC6WYsFw&amp;i=_GBmy1225Dgw&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYjM0ZmQ0NzUYjtyNASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhYCQAoABkICMAg&amp;k=coilUQAAAAA=&amp;i=_GBmy1225Dgw&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://p1.ssl.qhimgs3.com/t0137af287bc933c73e.png)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">深圳种植牙居然这个价，全城疯转，看看到底多少钱？</info-div>
            <info-div class="singleImage-desc">深圳弘和口腔 · 顶新</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script>
                                               NEWS_FEED({
                w: 900,
                h : 100,
                showid : 'ztvJV8',
                placeholderId: "three_ad1",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 0,
                    imageWidth: 90,
                    imageHeight: 68,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft YaHei',
                    paddingTop : 10,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 20,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script>
</div></div></div>        <a id="commentBox"></a>
<div class="comment-box">
	
	<div class="comment-edit-box d-flex">
		<a id="commentsedit"></a>
		<div class="user-img">
			<a href="javascript:void(0);" target="_blank">
				<img class="show_loginbox" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/anonymous-User-img.png">
			</a>
		</div>
		<form id="commentform">
			<input type="hidden" id="comment_replyId">
			<textarea class="comment-content" name="comment_content" id="comment_content" placeholder="想对作者说点什么"></textarea>
			<div class="opt-box"> <!-- d-flex -->
				<div id="ubbtools" class="add_code">
					<a href="https://blog.csdn.net/wh8_2011/article/details/51678924#insertcode" code="code" target="_self"><i class="icon iconfont icon-daima"></i></a>
				</div>
				<input type="hidden" id="comment_replyId" name="comment_replyId">
				<input type="hidden" id="article_id" name="article_id" value="51678924">
				<input type="hidden" id="comment_userId" name="comment_userId" value="">
				<input type="hidden" id="commentId" name="commentId" value="">
				<div style="display: none;" class="csdn-tracking-statistics tracking-click" data-mod="popu_384"><a href="https://blog.csdn.net/wh8_2011/article/details/51678924#" target="_blank" class="comment_area_btn">发表评论</a></div>
				<div class="dropdown" id="myDrap">
					<a class="dropdown-face d-flex align-items-center" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
					<div class="txt-selected text-truncate">添加代码片</div>
					<svg class="icon d-block" aria-hidden="true">
						<use xlink:href="#csdnc-triangledown"></use>
					</svg>
					</a>
					<ul class="dropdown-menu" id="commentCode" aria-labelledby="drop4">
						<li><a data-code="html">HTML/XML</a></li>
						<li><a data-code="objc">objective-c</a></li>
						<li><a data-code="ruby">Ruby</a></li>
						<li><a data-code="php">PHP</a></li>
						<li><a data-code="csharp">C</a></li>
						<li><a data-code="cpp">C++</a></li>
						<li><a data-code="javascript">JavaScript</a></li>
						<li><a data-code="python">Python</a></li>
						<li><a data-code="java">Java</a></li>
						<li><a data-code="css">CSS</a></li>
						<li><a data-code="sql">SQL</a></li>
						<li><a data-code="plain">其它</a></li>
					</ul>
				</div>  
				<div class="right-box">
					<span id="tip_comment" class="tip">还能输入<em>1000</em>个字符</span>
					<input type="button" class="btn btn-sm btn-cancel d-none" value="取消回复">
					<input type="submit" class="btn btn-sm btn-red btn-comment" value="发表评论">
				</div>
			</div>
		</form>
	</div>

		<div class="comment-list-container">
		<a id="comments"></a>
		<div class="comment-list-box">
		</div>
		<div id="commentPage" class="pagination-box d-none"></div>
		<div class="opt-box text-center">
			<div class="btn btn-sm btn-link-blue" id="btnMoreComment"></div>
		</div>
	</div>
</div>
        <div class="recommend-box">
                            <div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lindonghai/article/details/8111744,BlogCommendFromThirdServiceAll_0&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lindonghai/article/details/8111744,BlogCommendFromThirdServiceAll_0&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/lindonghai/article/details/8111744" target="_blank" title="linux  bus、driver、device及三者的关系">
		<h4 class="text-truncate oneline">
				linux  <em>bus</em>、driver、device及三者的关系		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">10-25</span>
				<span class="read-num hover-hide">
					阅读数 
					4500</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/lindonghai/article/details/8111744" target="_blank" title="linux  bus、driver、device及三者的关系">
				<span class="desc oneline">一、概念1、bus&nbsp;&nbsp;总线是处理器和设备之间的通道。总线有多种类型，每种总线可以挂载多个设备。2、driver&nbsp;&nbsp;驱动程序是在CPU运行时，提供操作的软件接口。所有的设备必须有与之配套驱动程序才能正常...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/lindonghai">来自：	<span class="blog_title"> 人工智能，深度学习，人脸识别</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Crazy_Tengt/article/details/73621754,BlogCommendFromThirdServiceAll_1&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Crazy_Tengt/article/details/73621754,BlogCommendFromThirdServiceAll_1&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/Crazy_Tengt/article/details/73621754" target="_blank" title="进一步理解！linux下bus,device,driver三者关系">
		<h4 class="text-truncate oneline">
				进一步理解！<em>linux下</em><em>bus</em>,device,driver三者关系		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-23</span>
				<span class="read-num hover-hide">
					阅读数 
					714</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/Crazy_Tengt/article/details/73621754" target="_blank" title="进一步理解！linux下bus,device,driver三者关系">
				<span class="desc oneline">1.bus:总线作为主机和外设的连接通道，有些总线是比较规范的，形成了很多协议。如PCI,USB,1394,IIC等。任何设备都可以选择合适的总线连接到主机。当然主机也可能就是CPU本身。内存也是通过...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/Crazy_Tengt">来自：	<span class="blog_title"> (oﾟ▽ﾟ)o  欢迎</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/YACHL882828/article/details/74221889,BlogCommendFromThirdServiceAll_2&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/YACHL882828/article/details/74221889,BlogCommendFromThirdServiceAll_2&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/YACHL882828/article/details/74221889" target="_blank" title="LINUX驱动模型中bus与platform_bus区别和异同">
		<h4 class="text-truncate oneline">
				LINUX驱动<em>模型</em>中<em>bus</em>与<em>platform</em>_<em>bus</em>区别和异同		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-03</span>
				<span class="read-num hover-hide">
					阅读数 
					577</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/YACHL882828/article/details/74221889" target="_blank" title="LINUX驱动模型中bus与platform_bus区别和异同">
				<span class="desc oneline">﻿﻿LINUX驱动模型中bus与platform_bus区别和异同首先要明确的是platform_bus是BUS的一个字集，也就是说platform_bus是BUS定义的一个总线类型。可以看到plat...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/YACHL882828">来自：	<span class="blog_title"> YACHL882828的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qqstring/article/details/81448009,BlogCommendFromThirdServiceAll_3&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qqstring/article/details/81448009,BlogCommendFromThirdServiceAll_3&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qqstring/article/details/81448009" target="_blank" title="linux_bus驱动">
		<h4 class="text-truncate oneline">
				linux_<em>bus</em>驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-06</span>
				<span class="read-num hover-hide">
					阅读数 
					164</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qqstring/article/details/81448009" target="_blank" title="linux_bus驱动">
				<span class="desc oneline">由于没有经过完整测试代码中可能会有不足之出，如有网友发现还请斧正这是一个学习文档，所有代码仅供学习使用，请勿在生产环境中使用代码在ubuntu12.04,ubuntu16.04,ubuntu18.04...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qqstring">来自：	<span class="blog_title"> 苦逼的程序员</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_59" data-pid="59" data-track-view="{&quot;mod&quot;:&quot;kp_popu_59-861&quot;,&quot;con&quot;:&quot;,,Linux&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_59-861&quot;,&quot;con&quot;:&quot;,,Linux&quot;}"><iframe src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/saved_resource.html" frameborder="0" width="100%" height="75px" scrolling="no"></iframe></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qingzhuyuxian/article/details/81432786,BlogCommendFromBaidu_4&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qingzhuyuxian/article/details/81432786,BlogCommendFromBaidu_4&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qingzhuyuxian/article/details/81432786" target="_blank" title="/sys/bus/platform/drivers">
		<h4 class="text-truncate oneline">
				/sys/<em>bus</em>/<em>platform</em>/drivers		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-05</span>
				<span class="read-num hover-hide">
					阅读数 
					214</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qingzhuyuxian/article/details/81432786" target="_blank" title="/sys/bus/platform/drivers">
				<span class="desc oneline">/sys/bus/platform/drivers#ls-ltotal0drwxr-xr-x&nbsp;&nbsp;2root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0Aug&nbsp;515:20alarmtimerdrwxr-xr-x&nbsp;&nbsp;2r...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qingzhuyuxian">来自：	<span class="blog_title"> 习惯成就伟大</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box recommend-box-ident recommend-other-item-box" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,http://ask.csdn.net/questions/163480,BlogCommendFromBaidu_5&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,http://ask.csdn.net/questions/163480,BlogCommendFromBaidu_5&quot;}">
	<a href="http://ask.csdn.net/questions/163480" target="_blank">
		<h4 class="text-truncate oneline">
				android 上层读写 sys/<em>bus</em>/驱动节点  有有没有达人知道方法		</h4>
		<div class="info-box d-flex align-content-center">
				<span class="date">01-23</span>
		</div>
		<p class="content oneline">
			<span class="desc oneline">-</span>
							<span class="type-show type-show-ask">问答</span>
					</p>
	</a>

</div>

	
	
<div class="recommend-item-box recommend-box-ident recommend-other-item-box" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/390534019,BlogCommendFromBaidu_6&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/390534019,BlogCommendFromBaidu_6&quot;}">
	<a href="https://bbs.csdn.net/topics/390534019" target="_blank">
		<h4 class="text-truncate oneline">
				【求助】“/sys/<em>bus</em>/<em>platform</em>/<em>devices</em>/ieee802154fakelb/adddev”文件找不到		</h4>
		<div class="info-box d-flex align-content-center">
				<span class="date">07-31</span>
		</div>
		<p class="content oneline">
			<span class="desc oneline">linux-3.5.4内核配置IEEE802.15.4协议。arm平台。 按照http://sourceforge.net/apps/trac/linux-zigbee/wiki/GettingSta</span>
							<span class="type-show type-show-bbs">论坛</span>
					</p>
	</a>

</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fml1997/article/details/77622860,BlogCommendFromBaidu_7&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fml1997/article/details/77622860,BlogCommendFromBaidu_7&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/fml1997/article/details/77622860" target="_blank" title="Linux驱动中的platform总线分析">
		<h4 class="text-truncate oneline">
				Linux驱动中的<em>platform</em>总线分析		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-27</span>
				<span class="read-num hover-hide">
					阅读数 
					3973</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/fml1997/article/details/77622860" target="_blank" title="Linux驱动中的platform总线分析">
				<span class="desc oneline">最近在复习platform总线相关的知识，碰到一篇感觉不错的文章。转载自：http://blog.csdn.net/pillarbuaa/article/details/7680372概述从Linux...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/fml1997">来自：	<span class="blog_title"> 樊茂林的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gotosola/article/details/7459899,BlogCommendFromBaidu_8&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gotosola/article/details/7459899,BlogCommendFromBaidu_8&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/gotosola/article/details/7459899" target="_blank" title="platform设备驱动简介">
		<h4 class="text-truncate oneline">
				<em>platform</em>设备驱动简介		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-14</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/gotosola/article/details/7459899" target="_blank" title="platform设备驱动简介">
				<span class="desc oneline">简介:目的:说白了就是为了将设备与驱动分离，通过platform总线进行连接废话不多说:相关结构介绍:1.platform设备结构体structplatform_device{constcharnam...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/gotosola">来自：	<span class="blog_title"> 阿特图</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_60" data-pid="60" data-track-view="{&quot;mod&quot;:&quot;kp_popu_60-43&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_60-43&quot;,&quot;con&quot;:&quot;,,&quot;}"><div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194560787_630" id="QIHOO__WEB__SO__1561194560787_630" style="display:block;margin:0;padding:0;border:none;width:900px;height:84px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194560787_630-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194560787_630 singleImage clk" data-href="https://s1.nzbdw.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;price=AAAAAF0N8D4AAAAAAA5Q114sdY3+ugsooEUXYw==&amp;finfo=DAABCAABAAAAxggAAgAAAB4EAAM/cD4BKEInHQAIAAIAAAADCgADd0OW0Xij1uwIAAQAAAAyBgAGLbcGAAoAAAgADgAAABwKAA8AAAAAAB42YAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FeKAPRWCx+ECFfibqRgV4oL/WhUEFRwWmtrDrRYW3Lur57m0y8PuATQCFrDikIAIJQYVi9WzwQYVvgUVADagrbygyKjCoh0A&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;csign2=tXMMc9Y5wx2=&amp;url=http%3A%2F%2Fgp.ikeke.me%2F30021.html%3Ftgkws%3Dyinhe0" data-pv="https://s1.nzbdw.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAAAxggAAgAAAB4EAAM/cD4BKEInHQAIAAIAAAADCgADd0OW0Xij1uwIAAQAAAAyBgAGLbcGAAoAAAgADgAAABwKAA8AAAAAAB42YAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FeKAPRWCx+ECFfibqRgV4oL/WhUEFRwWmtrDrRYW3Lur57m0y8PuATQCFrDikIAIJQYVi9WzwQYVvgUVADagrbygyKjCoh0A&amp;ds=1&amp;price=AAAAAF0N8D4AAAAAAA5Q114sdY3+ugsooEUXYw==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYaAkAKQAZCAjAI&amp;k=ecti3wAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA5RDHW91P71eeqIwtOPRw&amp;i=ObGBT1225D3M&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhoCQAoABkICMAg&amp;k=tJXS2QAAAAA=&amp;i=ObGBT1225D3M&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://s3m.nzwgs.com/galileo/499761-cb59a3d6c969ebf4263588a5c75f6257.jpg)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">股市从不坑人黄金铁律:三不卖七不买,背熟6句,股市就是取款机</info-div>
            <info-div class="singleImage-desc">浙商证券 · 猎媒</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/mvf_news_feed.js"></script>
<script>
                                               NEWS_FEED({
                w: 900,
                h : 84,
                showid : 'Afihld',
                placeholderId: "three_ad8",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 3,
                    imageWidth: 90,
                    imageHeight: 60,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft Yahei',
                    paddingTop : 10,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 0,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/crazycoder8848/article/details/50837458,BlogCommendFromBaidu_9&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/crazycoder8848/article/details/50837458,BlogCommendFromBaidu_9&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/crazycoder8848/article/details/50837458" target="_blank" title="Linux设备与驱动学习笔记(概述)">
		<h4 class="text-truncate oneline">
				Linux设备与驱动学习笔记(概述)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">03-09</span>
				<span class="read-num hover-hide">
					阅读数 
					4263</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/crazycoder8848/article/details/50837458" target="_blank" title="Linux设备与驱动学习笔记(概述)">
				<span class="desc oneline">由于在下能力相当有限，有不当之处，还望大家批评指正^_^本文基于Linux内核2.6.32一、宏观架构在内核中，大量的驱动与设备（但不是全部），都按总线进行分类管理。例如，凡是pci设备或pci设备的...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/crazycoder8848">来自：	<span class="blog_title"> 无忧老猪</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lizuobin2/article/details/51607813,BlogCommendFromBaidu_10&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lizuobin2/article/details/51607813,BlogCommendFromBaidu_10&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/lizuobin2/article/details/51607813" target="_blank" title="Linux Platform devices 平台设备驱动">
		<h4 class="text-truncate oneline">
				Linux <em>Platform</em> <em>devices</em> 平台设备驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-08</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/lizuobin2/article/details/51607813" target="_blank" title="Linux Platform devices 平台设备驱动">
				<span class="desc oneline">platform平台设备驱动是基于设备总线驱动模型的，它只不过是将device进一步封装成为platform_device，将device_driver进一步封装成为platform_device_d...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/lizuobin2">来自：	<span class="blog_title"> 漫不经心</span></a>
												</span>
		</p>
	</div>
	</div>

	
			<div class="recommend-item-box blog-expert-recommend-box">
			<div class="d-flex">
				<div class="blog-expert-recommend">
					<div class="blog-expert">
						<div class="blog-expert-flexbox"></div>
					</div>
				</div>
			</div>
		</div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/liuhaoyutz/article/details/14002163,BlogCommendFromBaidu_11&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/liuhaoyutz/article/details/14002163,BlogCommendFromBaidu_11&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/liuhaoyutz/article/details/14002163" target="_blank" title="Linux设备模型分析之bus（基于3.10.1内核）">
		<h4 class="text-truncate oneline">
				Linux设备<em>模型</em>分析之<em>bus</em>（基于3.10.1内核）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-01</span>
				<span class="read-num hover-hide">
					阅读数 
					6544</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/liuhaoyutz/article/details/14002163" target="_blank" title="Linux设备模型分析之bus（基于3.10.1内核）">
				<span class="desc oneline">作者：刘昊昱&nbsp;博客：http://blog.csdn.net/liuhaoyutz内核版本：3.10.1&nbsp;一、bus定义Linux设备驱动模型中的bus，即可以是物理总线（如PCI、I2C总线）的抽象...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/liuhaoyutz">来自：	<span class="blog_title"> Linux/Android开发记录</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wsclinux/article/details/50506604,BlogCommendFromBaidu_12&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wsclinux/article/details/50506604,BlogCommendFromBaidu_12&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/wsclinux/article/details/50506604" target="_blank" title="/sys/bus/usb/devices下的文件命名">
		<h4 class="text-truncate oneline">
				/sys/<em>bus</em>/usb/<em>devices</em>下的文件命名		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">01-13</span>
				<span class="read-num hover-hide">
					阅读数 
					5952</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/wsclinux/article/details/50506604" target="_blank" title="/sys/bus/usb/devices下的文件命名">
				<span class="desc oneline">/sys/bus/usb/devices下的文件命名：root@Four-Faith:/sys/bus/usb/devices#ls-llrwxrwxrwx&nbsp;&nbsp;1root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0Ja...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/wsclinux">来自：	<span class="blog_title"> wsclinux的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/liuxd3000/article/details/40511717,BlogCommendFromBaidu_13&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/liuxd3000/article/details/40511717,BlogCommendFromBaidu_13&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/liuxd3000/article/details/40511717" target="_blank" title="Linux 增加sys节点技巧">
		<h4 class="text-truncate oneline">
				Linux 增加sys节点技巧		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">10-27</span>
				<span class="read-num hover-hide">
					阅读数 
					1807</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/liuxd3000/article/details/40511717" target="_blank" title="Linux 增加sys节点技巧">
				<span class="desc oneline">Linux增加sys节点技巧2014-05-17本站整理浏览(298)Linux增加sys节点技巧，有需要的朋友可以参考下。1.子系统位platform/sys/devices/platform/at...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/liuxd3000">来自：	<span class="blog_title"> liuxd3000的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_61" data-pid="61" data-track-view="{&quot;mod&quot;:&quot;kp_popu_61-557&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_61-557&quot;,&quot;con&quot;:&quot;,,&quot;}"><div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194560864_733" id="QIHOO__WEB__SO__1561194560864_733" style="display:block;margin:0;padding:0;border:none;width:852px;height:60px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194560864_733-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194560864_733 singleImage clk" data-href="https://s1.nzbdw.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4f9428182f&amp;price=AAAAAF0N8D4AAAAAAA8rOQOQgUJz9i2c2JRd5Q==&amp;finfo=DAABCAABAAAAKwgAAgAAADMEAAM/SVgV8crCUgAIAAIAAAADCgADgQ9Fp5GoDosIAAQAAAA3BgAGLbcGAAoAAAYADD9cCAAOAAAAFwoADwAAAAAABo+wAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxbECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FaixkwIlAhUEFqPEvNSV3OHw/QEV8gglvJzt5AwlABUaFAAcFtfOufy95uehHxUAAAA&amp;ubi=Fai6WRXmjuECFcqFpxgV9IH8WhUEFRwWvNm8sxcWo8Sn7YuW3fD9ATQCFqTCkIAIJQYVrcONjgsVrgEVADbN86ik+6P2k9MBAA&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;csign2=QzWflBYie8G=&amp;url=http%3A%2F%2Fvip.z4t0ph.top" data-pv="https://s1.nzbdw.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAAAKwgAAgAAADMEAAM/SVgV8crCUgAIAAIAAAADCgADgQ9Fp5GoDosIAAQAAAA3BgAGLbcGAAoAAAYADD9cCAAOAAAAFwoADwAAAAAABo+wAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4f9428182f&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxbECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FaixkwIlAhUEFqPEvNSV3OHw/QEV8gglvJzt5AwlABUaFAAcFtfOufy95uehHxUAAAA&amp;ubi=Fai6WRXmjuECFcqFpxgV9IH8WhUEFRwWvNm8sxcWo8Sn7YuW3fD9ATQCFqTCkIAIJQYVrcONjgsVrgEVADbN86ik+6P2k9MBAA&amp;ds=1&amp;price=AAAAAF0N8D4AAAAAAA8rOQOQgUJz9i2c2JRd5Q==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmOTQyODE4MmYY1NiJASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYWAkAKQAZCAjAI&amp;k=WqrpyQAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA8rY8xXxzy4tohzty8xbQ&amp;i=N6GxTI225DgE&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmOTQyODE4MmYY1NiJASCisEUoAWIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhYCQAoABkICMAg&amp;k=W2RhcQAAAAA=&amp;i=N6GxTI225DgE&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://s3m.nzwgs.com/galileo/732820-a074ab2ed85112a8bf6f7659d91b7250.jpg)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">这个没有双腿的女孩日赚1000美元，她赚钱的方式让人想不到</info-div>
            <info-div class="singleImage-desc">学海 · 猎媒</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/mvf_news_feed.js"></script>
<script>
                                               NEWS_FEED({
                w: 852,
                h : 60,
                showid : 'GNKXx7',
                placeholderId: "three_ad13",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 3,
                    imageWidth: 90,
                    imageHeight: 60,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft Yahei',
                    paddingTop : 0,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 0,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_33920401/article/details/85816355,BlogCommendFromQuerySearch_14&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_33920401/article/details/85816355,BlogCommendFromQuerySearch_14&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_33920401/article/details/85816355" target="_blank" title="linux下bus、devices和platform的基础模型 【转】">
		<h4 class="text-truncate oneline">
				<em>linux下</em><em>bus</em>、<em>devices</em>和<em>platform</em>的<em>基础</em><em>模型</em> 【转】		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-11</span>
				<span class="read-num hover-hide">
					阅读数 
					5</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_33920401/article/details/85816355" target="_blank" title="linux下bus、devices和platform的基础模型 【转】">
				<span class="desc oneline">转自：http://blog.chinaunix.net/uid-20672257-id-3147337.html一、kobject的定义:kobject是Linux2.6引入的设备管理机制,在内核中...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_33920401">来自：	<span class="blog_title"> weixin_33920401的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/skdkjxy/article/details/38927907,BlogCommendFromQuerySearch_15&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/skdkjxy/article/details/38927907,BlogCommendFromQuerySearch_15&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/skdkjxy/article/details/38927907" target="_blank" title="嵌入式  linux下bus、devices和platform的基础模型">
		<h4 class="text-truncate oneline">
				嵌入式  <em>linux下</em><em>bus</em>、<em>devices</em>和<em>platform</em>的<em>基础</em><em>模型</em>		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-29</span>
				<span class="read-num hover-hide">
					阅读数 
					849</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/skdkjxy/article/details/38927907" target="_blank" title="嵌入式  linux下bus、devices和platform的基础模型">
				<span class="desc oneline">一、kobject的定义:kobject是Linux2.6引入的设备管理机制,在内核中由structkobject结构表示,这个结构使所有设备在底层都具有统一的接口.kobject提供了基本的对象管理...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/skdkjxy">来自：	<span class="blog_title"> skdkjxy的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hongzg1982/article/details/54884872,BlogCommendFromQuerySearch_16&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hongzg1982/article/details/54884872,BlogCommendFromQuerySearch_16&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/hongzg1982/article/details/54884872" target="_blank" title="Linux驱动基础：platform设备驱动">
		<h4 class="text-truncate oneline">
				Linux驱动<em>基础</em>：<em>platform</em>设备驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-19</span>
				<span class="read-num hover-hide">
					阅读数 
					980</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/hongzg1982/article/details/54884872" target="_blank" title="Linux驱动基础：platform设备驱动">
				<span class="desc oneline">初始化以高通平台为例，会在kernel/arch/arm/mach-msm下的相应的board-xxx.c文件里边用DT_MACHINE_START()这个宏定义一系列的芯片。以高通8916为例：在k...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/hongzg1982">来自：	<span class="blog_title"> hong</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/vertor11/article/details/79849627,BlogCommendFromQuerySearch_17&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/vertor11/article/details/79849627,BlogCommendFromQuerySearch_17&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/vertor11/article/details/79849627" target="_blank" title="设备驱动模型-bus, device, driver(讲解一)">
		<h4 class="text-truncate oneline">
				设备驱动<em>模型</em>-<em>bus</em>, device, driver(讲解一)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-08</span>
				<span class="read-num hover-hide">
					阅读数 
					818</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/vertor11/article/details/79849627" target="_blank" title="设备驱动模型-bus, device, driver(讲解一)">
				<span class="desc oneline">内核版本：3.18.20博客：https://blog.csdn.net/yj4231/article/details/7799245https://blog.csdn.net/adc0809608/...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/vertor11">来自：	<span class="blog_title"> vertor11的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/xgbing/article/details/51435583,BlogCommendFromBaidu_18&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/xgbing/article/details/51435583,BlogCommendFromBaidu_18&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/xgbing/article/details/51435583" target="_blank" title="在/sys/中创建设备子设备目录">
		<h4 class="text-truncate oneline">
				在/sys/中创建设备子设备目录		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-17</span>
				<span class="read-num hover-hide">
					阅读数 
					2462</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/xgbing/article/details/51435583" target="_blank" title="在/sys/中创建设备子设备目录">
				<span class="desc oneline">在drivers/base下的platform.c中：structdeviceplatform_bus={	.init_name	="platform",};注意它是一个structdevice结构类...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/xgbing">来自：	<span class="blog_title"> xgbing</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_62" data-pid="62" data-track-view="{&quot;mod&quot;:&quot;kp_popu_62-556&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_62-556&quot;,&quot;con&quot;:&quot;,,&quot;}"><div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194560905_600" id="QIHOO__WEB__SO__1561194560905_600" style="display:block;margin:0;padding:0;border:none;width:852px;height:60px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194560905_600-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194560905_600 singleImage clk" data-href="https://ssxd.mediav.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;price=AAAAAF0N8D4AAAAAAA5RlJq8i0jO+wB1w30xAA==&amp;finfo=DAABCAABAAAASwgAAgAAAB8EAAM/W2aJXjORKgAIAAIAAAADCgADd0QoVvJ+RCwIAAQAAAAtBgAGG4sGAAoAAAgADgAAABwKAA8AAAAAAAtxsAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FZDmJBXShOECFciophgVxrT5WhUGFSIWmo3H+hQW3Lv72daVlMTuATQEFrDiECUGFdjSjpECFZ4BFQAkEhaQ5iQA&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;ldtype=2&amp;csign2=OpO4Um1u22-=&amp;url=http%3A%2F%2Fy.code.17tanwan.com%2Fhtmlcode%2F45911.html" data-pv="https://ssxd.mediav.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAAASwgAAgAAAB8EAAM/W2aJXjORKgAIAAIAAAADCgADd0QoVvJ+RCwIAAQAAAAtBgAGG4sGAAoAAAgADgAAABwKAA8AAAAAAAtxsAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FZDmJBXShOECFciophgVxrT5WhUGFSIWmo3H+hQW3Lv72daVlMTuATQEFrDiECUGFdjSjpECFZ4BFQAkEhaQ5iQA&amp;ds=2&amp;price=AAAAAF0N8D4AAAAAAA5RlJq8i0jO+wB1w30xAA==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoAmIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYaAkAKQAZCAjAI&amp;k=Mfz4qQAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA5Rxzo6Q4HsYuMT_OpHDQ&amp;i=ObrBT1225DgV&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoAmIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhoCQAoABkICMAg&amp;k=e97wmgAAAAA=&amp;i=ObrBT1225DgV&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://s3m.mediav.com/galileo/301448-3a0a17875927613047faf142a25a25e3.gif)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">这经典传奇！攻速+9999！爆率+9999！怒爆BOSS神装</info-div>
            <info-div class="singleImage-desc">贪玩游戏 · 顶新</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/mvf_news_feed.js"></script>
<script>
                                               NEWS_FEED({
                w: 852,
                h : 60,
                showid : 'Afihld',
                placeholderId: "three_ad18",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 3,
                    imageWidth: 90,
                    imageHeight: 60,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft Yahei',
                    paddingTop : 0,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 0,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/youhaibo1990/article/details/12588477,BlogCommendFromBaidu_19&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/youhaibo1990/article/details/12588477,BlogCommendFromBaidu_19&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/youhaibo1990/article/details/12588477" target="_blank" title="/sys/bus一个总线设备驱动">
		<h4 class="text-truncate oneline">
				/sys/<em>bus</em>一个总线设备驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">10-10</span>
				<span class="read-num hover-hide">
					阅读数 
					640</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/youhaibo1990/article/details/12588477" target="_blank" title="/sys/bus一个总线设备驱动">
				<span class="desc oneline">2013年10月10日1.udev不会将/sys/bus下面的设备放到/dev下面；udev会将/sys/class下面的设备放到/dev下面，给应用层提供接口。2.＊＊＊当设备移出的时候，调用rel...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/youhaibo1990">来自：	<span class="blog_title"> you</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wade_510/article/details/72084006,BlogCommendFromBaidu_20&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wade_510/article/details/72084006,BlogCommendFromBaidu_20&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/wade_510/article/details/72084006" target="_blank" title="Linux下/sys目录介绍">
		<h4 class="text-truncate oneline">
				<em>Linux下</em>/sys目录介绍		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-14</span>
				<span class="read-num hover-hide">
					阅读数 
					7825</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/wade_510/article/details/72084006" target="_blank" title="Linux下/sys目录介绍">
				<span class="desc oneline">ramdisk文件系统基于磁盘模拟技术，实际文件系统是ex2ex3等。sysfs是一种基于ram文件系统和proc一样。Sysfs文件系统是一个类似于proc文件系统的特殊文件系统，用于将系统中的设备...</span>
			</a>
			<span class="blog_title_box oneline no-title">
									<span class="type-show type-show-blog type-show-after">博文</span>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/cjsycyl/article/details/46309451,BlogCommendFromBaidu_21&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/cjsycyl/article/details/46309451,BlogCommendFromBaidu_21&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/cjsycyl/article/details/46309451" target="_blank" title="Linux 内核/sys 文件系统介绍">
		<h4 class="text-truncate oneline">
				Linux 内核/sys 文件系统介绍		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-01</span>
				<span class="read-num hover-hide">
					阅读数 
					3547</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/cjsycyl/article/details/46309451" target="_blank" title="Linux 内核/sys 文件系统介绍">
				<span class="desc oneline">http://blog.csdn.net/sfrysh/article/details/5788446sysfs是Linux&nbsp;内核中设计较新的一种虚拟的基于内存的文件系统，它的作用与proc有些类似，...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/cjsycyl">来自：	<span class="blog_title"> cjsycyl的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_33889245/article/details/87515878,BlogCommendFromBaidu_22&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_33889245/article/details/87515878,BlogCommendFromBaidu_22&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_33889245/article/details/87515878" target="_blank" title="MTK平台-添加TP版本号节点(/sys/devices/platform/路径下添加节点)">
		<h4 class="text-truncate oneline">
				MTK平台-添加TP版本号节点(/sys/<em>devices</em>/<em>platform</em>/路径下添加节点)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">12-04</span>
				<span class="read-num hover-hide">
					阅读数 
					128</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_33889245/article/details/87515878" target="_blank" title="MTK平台-添加TP版本号节点(/sys/devices/platform/路径下添加节点)">
				<span class="desc oneline">综述项目需求：传音客户新增TP版本号节点：/sys/devices/platform/miki-tpd/tp_firmware_version自己编写一个简单的platform设备驱动kernel-3...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_33889245">来自：	<span class="blog_title"> weixin_33889245的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011549260/article/details/45153067,BlogCommendFromBaidu_23&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011549260/article/details/45153067,BlogCommendFromBaidu_23&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/u011549260/article/details/45153067" target="_blank" title="platform设备驱动框架搭建分析">
		<h4 class="text-truncate oneline">
				<em>platform</em>设备驱动框架搭建分析		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-20</span>
				<span class="read-num hover-hide">
					阅读数 
					2239</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/u011549260/article/details/45153067" target="_blank" title="platform设备驱动框架搭建分析">
				<span class="desc oneline">之前接触到的字符设备驱动是非常单纯的Linux字符设备驱动，他不具备工程中Linux驱动中的设备与驱动分离思想和设备驱动的分层思想，不具备“总线-设备-驱动”模型的概念。接下来通过分析platform...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/u011549260">来自：	<span class="blog_title"> 2621593260的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_63" data-pid="63" data-track-view="{&quot;mod&quot;:&quot;kp_popu_63-555&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_63-555&quot;,&quot;con&quot;:&quot;,,&quot;}"><div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194560956_555" id="QIHOO__WEB__SO__1561194560956_555" style="display:block;margin:0;padding:0;border:none;width:852px;height:60px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194560956_555-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194560956_555 singleImage clk" data-href="https://s1.nzbdw.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4f9428182f&amp;price=AAAAAF0N8D4AAAAAAA8rv97OdvwFVfklGjGrWA==&amp;finfo=DAABCAABAAAAKggAAgAAACcEAAM/S6xjPC7KsgAIAAIAAAADCgADgQ9X2Ku4MvEIAAQAAAAyBgAGLbcGAAoAAAgADgAAABcKAA8AAAAAAAZooAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxbECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FaixkwIlAhUEFqPEvNSV3OHw/QEV8gglvJzt5AwlABUaFAAcFtfOufy95uehHxUAAAA&amp;ubi=FeKAPRWCx+ECFfibqRgV4oL/WhUEFRwWmtrDrRYWo8T9nviJ1PD9ATQEFqTCkIAIJQYV/JnvugwVvgUVADagrbygyKjCoh0A&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;csign2=tXMMc9Y5wx2=&amp;url=http%3A%2F%2Fgp.ikeke.me%2F30021.html%3Ftgkws%3Dyinhe0" data-pv="https://s1.nzbdw.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAAAKggAAgAAACcEAAM/S6xjPC7KsgAIAAIAAAADCgADgQ9X2Ku4MvEIAAQAAAAyBgAGLbcGAAoAAAgADgAAABcKAA8AAAAAAAZooAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4f9428182f&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxbECBXIARaArvDwvfnFBRwWtIfQ5MH1+IwSFQAAAA&amp;uai=FaixkwIlAhUEFqPEvNSV3OHw/QEV8gglvJzt5AwlABUaFAAcFtfOufy95uehHxUAAAA&amp;ubi=FeKAPRWCx+ECFfibqRgV4oL/WhUEFRwWmtrDrRYWo8T9nviJ1PD9ATQEFqTCkIAIJQYV/JnvugwVvgUVADagrbygyKjCoh0A&amp;ds=2&amp;price=AAAAAF0N8D4AAAAAAA8rv97OdvwFVfklGjGrWA==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmOTQyODE4MmYY1NiJASCisEUoAmIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYWAkAKQAZCAjAI&amp;k=6BXW8QAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA8r44SsDkvnzr8XZGIpRA&amp;i=N6rxTI225D3z&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmOTQyODE4MmYY1NiJASCisEUoAmIXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhYCQAoABkICMAg&amp;k=PtAJtwAAAAA=&amp;i=N6rxTI225D3z&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://s3m.nzwgs.com/galileo/499761-cb59a3d6c969ebf4263588a5c75f6257.jpg)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">股市从不坑人黄金铁律:三不卖七不买,背熟6句,股市就是取款机</info-div>
            <info-div class="singleImage-desc">浙商证券 · 猎媒</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/mvf_news_feed.js"></script>
<script>
                                               NEWS_FEED({
                w: 852,
                h : 60,
                showid : 'GNKXx7',
                placeholderId: "three_ad23",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 3,
                    imageWidth: 90,
                    imageHeight: 60,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft Yahei',
                    paddingTop : 0,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 0,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qqliyunpeng/article/details/52700331,BlogCommendFromBaidu_24&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qqliyunpeng/article/details/52700331,BlogCommendFromBaidu_24&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qqliyunpeng/article/details/52700331" target="_blank" title="platform 架构">
		<h4 class="text-truncate oneline">
				<em>platform</em> 架构		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-29</span>
				<span class="read-num hover-hide">
					阅读数 
					2627</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qqliyunpeng/article/details/52700331" target="_blank" title="platform 架构">
				<span class="desc oneline">1.简介：1.1platform总线是虚拟总线，当使用这个虚拟总线是带来的好处主要有两点：（1）使得设备被挂接在一个总线上，因此，符合Linux2.6的设备模型。其结果是，配套的sysfs结点、设备电...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qqliyunpeng">来自：	<span class="blog_title"> 老鹏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/huangliangben/article/details/71773919,BlogCommendFromBaidu_25&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/huangliangben/article/details/71773919,BlogCommendFromBaidu_25&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/huangliangben/article/details/71773919" target="_blank" title="platform平台总线工作原理详解">
		<h4 class="text-truncate oneline">
				<em>platform</em>平台总线工作原理详解		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-12</span>
				<span class="read-num hover-hide">
					阅读数 
					2039</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/huangliangben/article/details/71773919" target="_blank" title="platform平台总线工作原理详解">
				<span class="desc oneline">一、platform平台总线的简介(1)相对于USB、PCI、I2C、SPI等物理总线来说，platform总线是一种虚拟、抽象出来的总线，实际中并不存在这样的总线。(2)cpu与外部通信的两种方式，...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/huangliangben">来自：	<span class="blog_title"> huangliangben的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shenhuxi_yu/article/details/54925892,BlogCommendFromBaidu_26&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shenhuxi_yu/article/details/54925892,BlogCommendFromBaidu_26&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/shenhuxi_yu/article/details/54925892" target="_blank" title="linux中platform设备autoprobe与驱动绑定理解">
		<h4 class="text-truncate oneline">
				linux中<em>platform</em>设备autoprobe与驱动绑定理解		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-08</span>
				<span class="read-num hover-hide">
					阅读数 
					688</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/shenhuxi_yu/article/details/54925892" target="_blank" title="linux中platform设备autoprobe与驱动绑定理解">
				<span class="desc oneline">kernel_init中do_basic_setup()-&gt;driver_init()-&gt;platform_bus_init()-&gt;...初始化platformbus(虚拟总线)设备向内核注册的时候p...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/shenhuxi_yu">来自：	<span class="blog_title"> shenhuxi_yu的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/linxiaowu66/article/details/7639590,BlogCommendFromBaidu_27&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/linxiaowu66/article/details/7639590,BlogCommendFromBaidu_27&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/linxiaowu66/article/details/7639590" target="_blank" title="混杂设备、字符设备、平台设备三者的注册方式比较">
		<h4 class="text-truncate oneline">
				混杂设备、字符设备、平台设备三者的注册方式比较		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-07</span>
				<span class="read-num hover-hide">
					阅读数 
					1320</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/linxiaowu66/article/details/7639590" target="_blank" title="混杂设备、字符设备、平台设备三者的注册方式比较">
				<span class="desc oneline">混杂设备、字符设备、平台设备三者的注册方式比较。今天没事干，顺便总结一下设备注册的几种方式，有的方式已经不提倡使用了，所以大家可以随便一看，记得以后使用最新的方法就行了。首先说已经不提倡使用的字符设备...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/linxiaowu66">来自：	<span class="blog_title"> 嵌入式世界的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wyz649296016/article/details/52180099,BlogCommendFromQuerySearch_28&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wyz649296016/article/details/52180099,BlogCommendFromQuerySearch_28&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/wyz649296016/article/details/52180099" target="_blank" title="platform总线和普通总线，驱动模型间的一些关系和理解">
		<h4 class="text-truncate oneline">
				<em>platform</em>总线和普通总线，驱动<em>模型</em>间的一些关系和理解		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-11</span>
				<span class="read-num hover-hide">
					阅读数 
					3121</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/wyz649296016/article/details/52180099" target="_blank" title="platform总线和普通总线，驱动模型间的一些关系和理解">
				<span class="desc oneline">(本原创文章发表于Sailor_forever的个人blog，未经本人许可，不得用于商业用途。任何个人、媒体、其他网站不得私自抄袭；网络媒体转载请注明出处，增加原文链接，否则属于侵权行为。如有任何问题...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/wyz649296016">来自：	<span class="blog_title"> Carlos.Wang的技术笔记</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_64" data-pid="64" data-track-view="{&quot;mod&quot;:&quot;kp_popu_64-1251&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_64-1251&quot;,&quot;con&quot;:&quot;,,&quot;}"><!-- T28 位置 -->
<script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/sdk-csdn-render.js"></script>
<div id="_4paradigm_T28_render" class="_paradigm_T_ads_render _4paradigm_box recommend-item-box clearfix"></div>
<script>
  //  渲染T28  传入 渲染位置的id和渲染位置的标记
  p4CSDNRender_T("_4paradigm_T28_render", "T28");
</script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/feiwatson/article/details/80795349,BlogCommendFromQuerySearch_29&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/feiwatson/article/details/80795349,BlogCommendFromQuerySearch_29&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/feiwatson/article/details/80795349" target="_blank" title="树莓派 - platform总线，设备和驱动">
		<h4 class="text-truncate oneline">
				树莓派 - <em>platform</em>总线，设备和驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-24</span>
				<span class="read-num hover-hide">
					阅读数 
					161</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/feiwatson/article/details/80795349" target="_blank" title="树莓派 - platform总线，设备和驱动">
				<span class="desc oneline">以树莓派为例子，分析一下其中LED的platformdevice和platformdriver.查看LED设备，被挂载在/sys/devices/platform下。注意其中的driver指向，&nbsp;dr...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/feiwatson">来自：	<span class="blog_title"> feiwatson的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_36378764/article/details/89182928,BlogCommendFromQuerySearch_30&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_36378764/article/details/89182928,BlogCommendFromQuerySearch_30&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qq_36378764/article/details/89182928" target="_blank" title="adb 常用到的一些命令">
		<h4 class="text-truncate oneline">
				adb 常用到的一些命令		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-10</span>
				<span class="read-num hover-hide">
					阅读数 
					170</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qq_36378764/article/details/89182928" target="_blank" title="adb 常用到的一些命令">
				<span class="desc oneline">adbdevices获取设备adbstart-server开始adb服务adbkill-server停止adb服务adbversion查看adb版本adbroot以root权限运行adbadbinst...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qq_36378764">来自：	<span class="blog_title"> Alvis的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/dachunfree/article/details/81172609,BlogCommendFromQuerySearch_31&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/dachunfree/article/details/81172609,BlogCommendFromQuerySearch_31&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/dachunfree/article/details/81172609" target="_blank" title="总线模型 了解下吧">
		<h4 class="text-truncate oneline">
				总线<em>模型</em> 了解下吧		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-23</span>
				<span class="read-num hover-hide">
					阅读数 
					169</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/dachunfree/article/details/81172609" target="_blank" title="总线模型 了解下吧">
				<span class="desc oneline"></span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/dachunfree">来自：	<span class="blog_title"> dachunfree的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/tiantao2012/article/details/77773496,BlogCommendFromQuerySearch_32&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/tiantao2012/article/details/77773496,BlogCommendFromQuerySearch_32&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/tiantao2012/article/details/77773496" target="_blank" title="/sys/devices/ 下的设备name就是bios中定义的HID">
		<h4 class="text-truncate oneline">
				/sys/<em>devices</em>/ 下的设备name就是bios中定义的HID		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-01</span>
				<span class="read-num hover-hide">
					阅读数 
					594</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/tiantao2012/article/details/77773496" target="_blank" title="/sys/devices/ 下的设备name就是bios中定义的HID">
				<span class="desc oneline">ACPIscan的时候会调用到acpi_bus_check_add-&gt;acpi_add_single_objectstaticintacpi_add_single_object(structacpi_...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/tiantao2012">来自：	<span class="blog_title"> jason的笔记</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box recommend-box-ident recommend-other-item-box" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/380035600,BlogCommendFromBaidu_33&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/380035600,BlogCommendFromBaidu_33&quot;}">
	<a href="https://bbs.csdn.net/topics/380035600" target="_blank">
		<h4 class="text-truncate oneline">
				/sys/<em>devices</em>/<em>platform</em>/usb_mass_storage/lun0/file求提示！		</h4>
		<div class="info-box d-flex align-content-center">
				<span class="date">11-08</span>
		</div>
		<p class="content oneline">
			<span class="desc oneline">USB储存设备 可以映射成这样的设备节点 /sys/devices/platform/usb_mass_storage/lun0/file 请问 如果我想再增加一个LUN1 实在哪里添加的？USB么？</span>
							<span class="type-show type-show-bbs">论坛</span>
					</p>
	</a>

</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_65" data-pid="65" data-track-view="{&quot;mod&quot;:&quot;kp_popu_65-1061&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_65-1061&quot;,&quot;con&quot;:&quot;,,&quot;}"><iframe src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/saved_resource(2).html" frameborder="0" width="100%" height="75px" scrolling="no"></iframe></div></div>
	
<div class="recommend-item-box recommend-box-ident recommend-other-item-box" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/380166008,BlogCommendFromBaidu_34&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://bbs.csdn.net/topics/380166008,BlogCommendFromBaidu_34&quot;}">
	<a href="https://bbs.csdn.net/topics/380166008" target="_blank">
		<h4 class="text-truncate oneline">
				请教一下"/sys/<em>devices</em>"和"/dev"这两个目录下的文件的区别?		</h4>
		<div class="info-box d-flex align-content-center">
				<span class="date">02-09</span>
		</div>
		<p class="content oneline">
			<span class="desc oneline">好像没啥区别，都是存放设备的，我刚转到linux来，不熟悉，那位知道的麻烦告知一声，谢谢!!</span>
							<span class="type-show type-show-bbs">论坛</span>
					</p>
	</a>

</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/luckywang1103/article/details/25715101,BlogCommendFromBaidu_35&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/luckywang1103/article/details/25715101,BlogCommendFromBaidu_35&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/luckywang1103/article/details/25715101" target="_blank" title="linux /sys目录下的各个子目录说明">
		<h4 class="text-truncate oneline">
				linux /sys目录下的各个子目录说明		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-13</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/luckywang1103/article/details/25715101" target="_blank" title="linux /sys目录下的各个子目录说明">
				<span class="desc oneline">#ls/sys/block&nbsp;&nbsp;class&nbsp;&nbsp;firmware&nbsp;kernel&nbsp;&nbsp;powerbus&nbsp;&nbsp;&nbsp;devices&nbsp;fs&nbsp;&nbsp;&nbsp;&nbsp;module------------------------------...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/luckywang1103">来自：	<span class="blog_title"> luckywang1103的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/seek_0380/article/details/50058287,BlogCommendFromBaidu_36&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/seek_0380/article/details/50058287,BlogCommendFromBaidu_36&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/seek_0380/article/details/50058287" target="_blank" title="在/sys下面创建属性文件">
		<h4 class="text-truncate oneline">
				在/sys下面创建属性文件		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-26</span>
				<span class="read-num hover-hide">
					阅读数 
					2676</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/seek_0380/article/details/50058287" target="_blank" title="在/sys下面创建属性文件">
				<span class="desc oneline">以前一直有一个疑问：驱动到底在哪里创建文件节点才有意义，才能满足应用层的需求。后来一直得不到解答，慢慢的就不干觉得有困惑。因为android的开发，从原厂拿到bsp大多数驱动都已经做好了，功能健全，通...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/seek_0380">来自：	<span class="blog_title"> Eliot_shao的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fivedoumi/article/details/50911407,BlogCommendFromBaidu_37&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fivedoumi/article/details/50911407,BlogCommendFromBaidu_37&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/fivedoumi/article/details/50911407" target="_blank" title="linux /sys目录下各个子目录的具体说明">
		<h4 class="text-truncate oneline">
				linux /sys目录下各个子目录的具体说明		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">03-17</span>
				<span class="read-num hover-hide">
					阅读数 
					2424</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/fivedoumi/article/details/50911407" target="_blank" title="linux /sys目录下各个子目录的具体说明">
				<span class="desc oneline">/sys下的子目录内容&nbsp;#ls/sys/block&nbsp;&nbsp;class&nbsp;&nbsp;firmware&nbsp;kernel&nbsp;&nbsp;powerbus&nbsp;&nbsp;&nbsp;devices&nbsp;fs&nbsp;&nbsp;&nbsp;&nbsp;module------------------...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/fivedoumi">来自：	<span class="blog_title"> fivedoumi的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/jsn_ze/article/details/50749693,BlogCommendFromBaidu_38&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/jsn_ze/article/details/50749693,BlogCommendFromBaidu_38&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/jsn_ze/article/details/50749693" target="_blank" title="linux设备驱动归纳总结（九）：1.platform总线的设备和驱动">
		<h4 class="text-truncate oneline">
				linux设备驱动归纳总结（九）：1.<em>platform</em>总线的设备和驱动		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-26</span>
				<span class="read-num hover-hide">
					阅读数 
					918</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/jsn_ze/article/details/50749693" target="_blank" title="linux设备驱动归纳总结（九）：1.platform总线的设备和驱动">
				<span class="desc oneline">linux设备驱动归纳总结（九）：1.platform总线的设备和驱动xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/jsn_ze">来自：	<span class="blog_title"> jsn_ze的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_66" data-pid="66" data-track-view="{&quot;mod&quot;:&quot;kp_popu_66-87&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_66-87&quot;,&quot;con&quot;:&quot;,,&quot;}"><div class="mediav_ad"><newsfeed class="newsfeed QIHOO__WEB__SO__1561194561155_970" id="QIHOO__WEB__SO__1561194561155_970" style="display:block;margin:0;padding:0;border:none;width:852px;height:60px;overflow-y:hidden;overflow-x:hidden;position:relative;text-align:left;"><info-div id="QIHOO__WEB__SO__1561194561155_970-info" style="zoom:1"><info-div class="QIHOO__WEB__SO__1561194561155_970 singleImage clk" data-href="https://ssxd.mediav.com/s?type=2&amp;r=20&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;price=AAAAAF0N8D4AAAAAAA5SLBg1fdwolAL+JvRiag==&amp;finfo=DAABCAABAAAAKAgAAgAAACkEAAM/THLPezlusAAIAAIAAAADCgADd0Re6KyqQsgIAAQAAAAuBgAGIHoGAAoAAAgADgAAABwKAA8AAAAAAAYagAA&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FYKzRBXg7p0CFbDFxRUVmNDiWRUGFRwW3qH24BYW3Lv5xJG6r8TuATQGFrDiECUGFY716r4EFaYBFQA2s+HonNLF+NfCAQA&amp;clickid=0&amp;cpx=__OFFSET_X__&amp;cpy=__OFFSET_Y__&amp;cs=__EVENT_TIME_START__&amp;ce=__EVENT_TIME_END__&amp;csign2=v2WGvTgjnOd=&amp;url=https%3A%2F%2Fcma.gaodun.cn%2Fbaokao%2F%3F360cma-xxl-jz-dt-ss" data-pv="https://ssxd.mediav.com/s?type=1&amp;r=20&amp;tid=NTkxNDA0ZDg5YTYzYWU4MmQ3NjAxZjJiOTFlMDJkMjI&amp;finfo=DAABCAABAAAAKAgAAgAAACkEAAM/THLPezlusAAIAAIAAAADCgADd0Re6KyqQsgIAAQAAAAuBgAGIHoGAAoAAAgADgAAABwKAA8AAAAAAAYagAA&amp;mv_ref=blog.csdn.net&amp;enup=CAABcVe2iQgAAom2V3EA&amp;mvid=NDQ1NTcxODA2NTYzMjA4MTYwNjAwMTk&amp;bid=136b3c4fa7f3007c&amp;ugi=FcTgigEVyNtrTBUCFUAVXhUAABXI9ujbAxaECBXIARaArvDwvfnFBRwWob3W2cazmvAOFQAAAA&amp;uai=FeTGlAIlAhUEFty7loCw7sbD7gEV8gglv9flsQglABUaFAAcFu390dXQt9HKnAEVAAAA&amp;ubi=FYKzRBXg7p0CFbDFxRUVmNDiWRUGFRwW3qH24BYW3Lv5xJG6r8TuATQGFrDiECUGFY716r4EFaYBFQA2s+HonNLF+NfCAQA&amp;ds=3&amp;price=AAAAAF0N8D4AAAAAAA5SLBg1fdwolAL+JvRiag==,https://max-l.mediav.com/rtb?type=2&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoA2IXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTmIAQCQAYaAkAKQAZCAjAI&amp;k=4vcC+AAAAAA=&amp;w=AAAAAF0N8D4AAAAAAA5SXYSc1l60UNFPTA_QkA&amp;i=Ob6BT1225D3A&amp;z=1" data-clk="https://max-l.mediav.com/rtb?type=3&amp;ver=1&amp;v=CGQSEDEzNmIzYzRmYTdmMzAwN2MYsqOKASCisEUoA2IXNDQ1NTcxODA2NTYzMjA4MTYwNjAwMTlwAIABhoCQAoABkICMAg&amp;k=MZz4nAAAAAA=&amp;i=Ob6BT1225D3A&amp;x=__OFFSET_X__&amp;y=__OFFSET_Y__&amp;st=__EVENT_TIME_START__&amp;et=__EVENT_TIME_END__&amp;adw=__ADSPACE_W__&amp;adh=__ADSPACE_H__&amp;tc=&amp;turl=">
    <info-div class="wrap">
        <info-div class="singleImage-img singleImage-img-left">
            <info-div class="img" style="background-image:url(https://s3m.mediav.com/galileo/560321-0682d5459d265c81929ab2c2e3747d9f.jpg)"><info-div class="ads-tag"></info-div></info-div>
        </info-div>
        <info-div class="singleImage-body singleImage-body-left">
            <info-div class="singleImage-title">2019年CMA（管理会计师）报考疑问汇总</info-div>
            <info-div class="singleImage-desc">高顿cma · 顶新</info-div>
        </info-div>
   </info-div>
   <info-div style="clear:both;"></info-div>
</info-div>
</info-div></newsfeed></div>
<script>
                                               NEWS_FEED({
                w: 852,
                h : 60,
                showid : 'Afihld',
                placeholderId: "three_ad38",
                inject : 'define',
                define : {
                    imagePosition : 'left',
                    imageBorderRadius : 3,
                    imageWidth: 90,
                    imageHeight: 60,
                    imageFill : 'clip',
                    displayImage : true,
                    displayTitle : true,
                    titleFontSize: 18,
                    titleFontColor: '#000',
                    titleFontFamily : 'Lato,-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif',
                    titleFontWeight: 'bold',
                    titlePaddingTop : 0,
                    titlePaddingRight : 0,
                    titlePaddingBottom : 5,
                    titlePaddingLeft : 16,
                    displayDesc : true,
                    descFontSize: 14,
                    descFontColor: '#8e959a',
                    descFontFamily : 'Microsoft Yahei',
                    paddingTop : 0,
                    paddingRight : 0,
                    paddingBottom : 0,
                    paddingLeft : 0,
                    backgroundColor: '#fff',
                    hoverColor: '#000'
                      }
                  })
                                        </script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011164819/article/details/50186905,BlogCommendFromBaidu_39&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011164819/article/details/50186905,BlogCommendFromBaidu_39&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/u011164819/article/details/50186905" target="_blank" title="Linux驱动程序中的platform总线详解">
		<h4 class="text-truncate oneline">
				Linux驱动程序中的<em>platform</em>总线详解		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">12-05</span>
				<span class="read-num hover-hide">
					阅读数 
					1299</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/u011164819/article/details/50186905" target="_blank" title="Linux驱动程序中的platform总线详解">
				<span class="desc oneline">Linux驱动程序中的platform总线详解在linux2.6设备模型中，关心总线，设备，驱动这三个实体，总线将设备和驱动绑定，在系统每注册一个设备的时候，会寻找与之匹配的驱动。相反，在系统每注册一...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/u011164819">来自：	<span class="blog_title"> 安得广厦千万间，大庇天下寒士俱欢颜！</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u012600955/article/details/73107258,BlogCommendFromBaidu_40&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u012600955/article/details/73107258,BlogCommendFromBaidu_40&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/u012600955/article/details/73107258" target="_blank" title="debug模式与relese模式下!">
		<h4 class="text-truncate oneline">
				debug模式与relese模式下!		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-12</span>
				<span class="read-num hover-hide">
					阅读数 
					541</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/u012600955/article/details/73107258" target="_blank" title="debug模式与relese模式下!">
				<span class="desc oneline">我们经常有些代码是需要在debug模式下运行,而relese模式下是不用去运行的!&nbsp;比如log日志,relese是不希望运行的!比如签名校验,我们希望在debug模式下是不运行的!这就要引出Build...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/u012600955">来自：	<span class="blog_title"> XIT的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/kris_fei/article/details/78051356,BlogCommendFromBaidu_41&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/kris_fei/article/details/78051356,BlogCommendFromBaidu_41&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/kris_fei/article/details/78051356" target="_blank" title="[RK3288][Android6.0] Mali GPU基本知识">
		<h4 class="text-truncate oneline">
				[RK3288][Android6.0] Mali GPU基本知识		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-21</span>
				<span class="read-num hover-hide">
					阅读数 
					2488</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/kris_fei/article/details/78051356" target="_blank" title="[RK3288][Android6.0] Mali GPU基本知识">
				<span class="desc oneline">Platform:RockchipOS:Android6.0Kernel:3.10.92MaliGPU的前身是Falanx,是挪威一家公司,后来被ARM收购.目前除了做GPU以外,Mali还做Came...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/kris_fei">来自：	<span class="blog_title"> Kris Fei's blog</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fengkehuan/article/details/6200210,BlogCommendFromBaidu_42&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/fengkehuan/article/details/6200210,BlogCommendFromBaidu_42&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/fengkehuan/article/details/6200210" target="_blank" title="Linux 内核/sys 文件系统之uevent ">
		<h4 class="text-truncate oneline">
				Linux 内核/sys 文件系统之uevent 		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-22</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/fengkehuan/article/details/6200210" target="_blank" title="Linux 内核/sys 文件系统之uevent ">
				<span class="desc oneline">Linux内核/sys文件系统之uevent在sysfs下的很多kobject下都有uevent属性，它主要用于内核与udev(自动设备发现程序)之间的一个通信接口；从udev本身与内核的通信接口ne...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/fengkehuan">来自：	<span class="blog_title"> fengkehuan的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq123386926/article/details/48499561,BlogCommendFromQuerySearch_43&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq123386926/article/details/48499561,BlogCommendFromQuerySearch_43&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qq123386926/article/details/48499561" target="_blank" title="生成pci设备树的简单实现">
		<h4 class="text-truncate oneline">
				生成pci设备树的简单实现		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-16</span>
				<span class="read-num hover-hide">
					阅读数 
					1263</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qq123386926/article/details/48499561" target="_blank" title="生成pci设备树的简单实现">
				<span class="desc oneline">2015-09-16系统的所有pci设备记录在/sys/bus/pci/devices目录下面：而如果pci地址下连接有其他子设备的话，可以在对应的目录下找到其他的pci地址：可以看到0000:00:...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qq123386926">来自：	<span class="blog_title"> qq123386926的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_67" data-pid="67" data-track-view="{&quot;mod&quot;:&quot;kp_popu_67-882&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_67-882&quot;,&quot;con&quot;:&quot;,,&quot;}"><script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/sdk-csdn-render.js"></script>
<div id="_4paradigm_T43_render" class="_paradigm_T_ads_render _4paradigm_box recommend-item-box clearfix"></div>
<script>
  //  渲染T43  传入 渲染位置的id和渲染位置的标记
  p4CSDNRender_T("_4paradigm_T43_render", "T43");
</script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011006622/article/details/53390439,BlogCommendFromQuerySearch_44&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011006622/article/details/53390439,BlogCommendFromQuerySearch_44&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/u011006622/article/details/53390439" target="_blank" title="linux下的＂BusHound＂——usb_mon非常好">
		<h4 class="text-truncate oneline">
				<em>linux下</em>的＂<em>Bus</em>Hound＂——usb_mon非常好		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-29</span>
				<span class="read-num hover-hide">
					阅读数 
					1359</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/u011006622/article/details/53390439" target="_blank" title="linux下的＂BusHound＂——usb_mon非常好">
				<span class="desc oneline">ubuntu下已经内置了usb抓包工具——usb_mon，位置：/lib/modules/3.13.0-24-generic/kernel/drivers/usb/mon/usb_mon.ko（ubu...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/u011006622">来自：	<span class="blog_title"> 蓝精灵的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011028408/article/details/25079077,BlogCommendFromQuerySearch_45&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/u011028408/article/details/25079077,BlogCommendFromQuerySearch_45&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/u011028408/article/details/25079077" target="_blank" title="解决/proc/bus/usb/目录下没有devices文件问题">
		<h4 class="text-truncate oneline">
				解决/proc/<em>bus</em>/usb/目录下没有<em>devices</em>文件问题		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-05</span>
				<span class="read-num hover-hide">
					阅读数 
					2574</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/u011028408/article/details/25079077" target="_blank" title="解决/proc/bus/usb/目录下没有devices文件问题">
				<span class="desc oneline">$cat/proc/bus/usb/devicescat:/proc/bus/usb/devices:沒有此一檔案或目錄方法一$sudomount-tusbfsusbfs/proc/bus/usb/保...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/u011028408">来自：	<span class="blog_title"> 菩提本無樹</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hello2mao/article/details/46446561,BlogCommendFromQuerySearch_46&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hello2mao/article/details/46446561,BlogCommendFromQuerySearch_46&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/hello2mao/article/details/46446561" target="_blank" title="（4）LinuxI2C驱动--从两个访问eeprom的例子开始">
		<h4 class="text-truncate oneline">
				（4）LinuxI2C驱动--从两个访问eeprom的例子开始		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-10</span>
				<span class="read-num hover-hide">
					阅读数 
					3815</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/hello2mao/article/details/46446561" target="_blank" title="（4）LinuxI2C驱动--从两个访问eeprom的例子开始">
				<span class="desc oneline">本小节介绍两个在linux应用层访问eeprom的方法，并给出示例代码方便大家理解。第一个方法是通过sysfs文件系统对eeprom进行访问，第二个方法是通过eeprom的设备文件进行访问。这两个方法...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/hello2mao">来自：	<span class="blog_title"> 毛宏斌的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_16777851/article/details/81459931,BlogCommendFromQuerySearch_47&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_16777851/article/details/81459931,BlogCommendFromQuerySearch_47&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qq_16777851/article/details/81459931" target="_blank" title="linux设备模型七（device_driver细节）">
		<h4 class="text-truncate oneline">
				linux设备<em>模型</em>七（device_driver细节）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-06</span>
				<span class="read-num hover-hide">
					阅读数 
					775</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qq_16777851/article/details/81459931" target="_blank" title="linux设备模型七（device_driver细节）">
				<span class="desc oneline">阅读这篇之前，建议先阅读我的下面这篇博客了解device_driver的数据结构和大概作用。https://blog.csdn.net/qq_16777851/article/details/8142...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qq_16777851">来自：	<span class="blog_title"> To_run_away的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/GCE7212201/article/details/53339699,BlogCommendFromBaidu_48&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/GCE7212201/article/details/53339699,BlogCommendFromBaidu_48&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/GCE7212201/article/details/53339699" target="_blank" title="linux驱动在sys下添加读写属性">
		<h4 class="text-truncate oneline">
				linux驱动在sys下添加读写属性		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-25</span>
				<span class="read-num hover-hide">
					阅读数 
					3259</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/GCE7212201/article/details/53339699" target="_blank" title="linux驱动在sys下添加读写属性">
				<span class="desc oneline">class_create用来创建一个类，存放于sysfs下面，卸载时配套使用class_destroydevice_create在/dev/目录下创建相应的设备节点，在加载模块的时候，用户空间的ude...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/GCE7212201">来自：	<span class="blog_title"> xxwl的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	<div class="recommend-item-box recommend-ad-box"><div id="kp_box_68" data-pid="68" data-track-view="{&quot;mod&quot;:&quot;kp_popu_68-883&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_68-883&quot;,&quot;con&quot;:&quot;,,&quot;}"><!-- T48 位置 -->
<script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/sdk-csdn-render.js"></script>
<div id="_4paradigm_T48_render" class="_paradigm_T_ads_render _4paradigm_box recommend-item-box clearfix"></div>
<script>
  //  渲染T48  传入 渲染位置的id和渲染位置的标记
  p4CSDNRender_T("_4paradigm_T48_render", "T48");
</script></div></div>
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/allenner1/article/details/7892466,BlogCommendFromBaidu_49&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/allenner1/article/details/7892466,BlogCommendFromBaidu_49&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/allenner1/article/details/7892466" target="_blank" title="sys/devices/platform/中显示的平台设备接口">
		<h4 class="text-truncate oneline">
				sys/<em>devices</em>/<em>platform</em>/中显示的平台设备接口		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-21</span>
				<span class="read-num hover-hide">
					阅读数 
					3110</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/allenner1/article/details/7892466" target="_blank" title="sys/devices/platform/中显示的平台设备接口">
				<span class="desc oneline">2012.7.13&nbsp;&nbsp;星期五在板终端打开/sys/devices/platform/中显示的平台设备接口全部都是6410下的，虽然有的名称是以s3c2440开头的，那只是表示2440某些接口同6410...</span>
			</a>
			<span class="blog_title_box oneline no-title">
									<span class="type-show type-show-blog type-show-after">博文</span>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_37888343/article/details/88807837,BlogCommendHotData_0&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_37888343/article/details/88807837,BlogCommendHotData_0&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_37888343/article/details/88807837" target="_blank" title="Python大数据分析学习.测试程序执行速度">
		<h4 class="text-truncate oneline">
				Python大数据分析学习.测试程序执行速度		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">03-25</span>
				<span class="read-num hover-hide">
					阅读数 
					23</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_37888343/article/details/88807837" target="_blank" title="Python大数据分析学习.测试程序执行速度">
				<span class="desc oneline">Here, I introduce 2 magic functions whichcould only be operated in ipython console:

The first is %t...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_37888343">来自：	<span class="blog_title"> 小赵走四方的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/themagickeyjianan/article/details/52386981,BlogCommendHotData_1&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/themagickeyjianan/article/details/52386981,BlogCommendHotData_1&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/themagickeyjianan/article/details/52386981" target="_blank" title="python图片处理类之~PIL.Image模块(ios android icon图标自动生成处理)">
		<h4 class="text-truncate oneline">
				python图片处理类之~PIL.Image模块(ios android icon图标自动生成处理)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">08-31</span>
				<span class="read-num hover-hide">
					阅读数 
					11万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/themagickeyjianan/article/details/52386981" target="_blank" title="python图片处理类之~PIL.Image模块(ios android icon图标自动生成处理)">
				<span class="desc oneline">1.从pyCharm提示下载PIL包

&nbsp;http://www.pythonware.com/products/pil/

&nbsp;

2.解压后，进入到目录下


cd /Users/jianan/Dow...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/themagickeyjianan">来自：	<span class="blog_title"> 专注于cocos+unity+服务器全栈</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/VBcom/article/details/7245186,BlogCommendHotData_2&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/VBcom/article/details/7245186,BlogCommendHotData_2&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/VBcom/article/details/7245186" target="_blank" title="DirectX修复工具增强版">
		<h4 class="text-truncate oneline">
				DirectX修复工具增强版		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-09</span>
				<span class="read-num hover-hide">
					阅读数 
					206万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/VBcom/article/details/7245186" target="_blank" title="DirectX修复工具增强版">
				<span class="desc oneline">最后更新：2019-5-26

DirectX修复工具最新版：DirectX Repair V3.8 增强版NEW!

版本号：V3.8.0.11638

大小: 107MB/7z格式压缩，189MB...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/VBcom">来自：	<span class="blog_title"> VBcom的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/zhanglong_web/article/details/78649717,BlogCommendHotData_3&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/zhanglong_web/article/details/78649717,BlogCommendHotData_3&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/zhanglong_web/article/details/78649717" target="_blank" title="vue移动端flexible.js结合Muse-ui使用的小坑">
		<h4 class="text-truncate oneline">
				vue移动端flexible.js结合Muse-ui使用的小坑		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-27</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/zhanglong_web/article/details/78649717" target="_blank" title="vue移动端flexible.js结合Muse-ui使用的小坑">
				<span class="desc oneline">因为公司有个项目有webapp的需求，在前期准备的期间考虑过使用ionic，毕竟该项目web端的框架使用的是Angular，项目组的人也都比较熟悉，但是我们毕竟只是做个移动的网页，不想用ionic那么...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/zhanglong_web">来自：	<span class="blog_title"> zhangl的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hayixia606/article/details/79237220,BlogCommendHotData_4&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hayixia606/article/details/79237220,BlogCommendHotData_4&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/hayixia606/article/details/79237220" target="_blank" title="微信支付V3微信公众号支付PHP教程(thinkPHP5公众号支付)/JSSDK的使用">
		<h4 class="text-truncate oneline">
				微信支付V3微信公众号支付PHP教程(thinkPHP5公众号支付)/JSSDK的使用		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-02</span>
				<span class="read-num hover-hide">
					阅读数 
					18万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/hayixia606/article/details/79237220" target="_blank" title="微信支付V3微信公众号支付PHP教程(thinkPHP5公众号支付)/JSSDK的使用">
				<span class="desc oneline">扫二维码关注，获取更多技术分享


  本文承接之前发布的博客《 微信支付V3微信公众号支付PHP教程/thinkPHP5公众号支付》必须阅读上篇文章后才可以阅读这篇文章。由于最近一段时间工作比较忙，...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/hayixia606">来自：	<span class="blog_title"> Marswill</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qinyuanpei/article/details/89080530,BlogCommendHotData_5&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qinyuanpei/article/details/89080530,BlogCommendHotData_5&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qinyuanpei/article/details/89080530" target="_blank" title="聊聊前端跨域的爱恨情仇">
		<h4 class="text-truncate oneline">
				聊聊前端跨域的爱恨情仇		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-08</span>
				<span class="read-num hover-hide">
					阅读数 
					2万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qinyuanpei/article/details/89080530" target="_blank" title="聊聊前端跨域的爱恨情仇">
				<span class="desc oneline">今天是过完春节以后的第二周啦，而我好像终于回到正常工作的状态了呢，因为突然间就对工作产生了厌倦的情绪，Bug就像无底洞一样吞噬着我的脑细胞。人类就像一颗螺丝钉一样被固定在整部社会机器上，除了要让自己看...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qinyuanpei">来自：	<span class="blog_title"> 七喜先生の猫</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qijingpei/article/details/81045777,BlogCommendHotData_6&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qijingpei/article/details/81045777,BlogCommendHotData_6&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qijingpei/article/details/81045777" target="_blank" title="java word 获取每个表格所在的页码 （利用POI+pdf）">
		<h4 class="text-truncate oneline">
				java word 获取每个表格所在的页码 （利用POI+pdf）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-14</span>
				<span class="read-num hover-hide">
					阅读数 
					1095</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qijingpei/article/details/81045777" target="_blank" title="java word 获取每个表格所在的页码 （利用POI+pdf）">
				<span class="desc oneline">需求

最近，甲方要求我们对word里的每个表格，计算每个表格所在的页码，虽然直接获取word某个表格在多少页很难（POI没有提供相应的api或者不准确），但是我们想到将word转化为pdf，获取pd...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qijingpei">来自：	<span class="blog_title"> qijingpei的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mynameishuangshuai/article/details/51783303,BlogCommendHotData_7&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mynameishuangshuai/article/details/51783303,BlogCommendHotData_7&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/mynameishuangshuai/article/details/51783303" target="_blank" title="手把手教你AndroidStudio多渠道打包">
		<h4 class="text-truncate oneline">
				手把手教你AndroidStudio多渠道打包		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-29</span>
				<span class="read-num hover-hide">
					阅读数 
					5万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/mynameishuangshuai/article/details/51783303" target="_blank" title="手把手教你AndroidStudio多渠道打包">
				<span class="desc oneline">最近不断有朋友向我咨询AndroidStudio多渠道的打包方法，今天整理一下之前积累的打包套路，写一篇文章，手把手的教给大家。...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/mynameishuangshuai">来自：	<span class="blog_title"> Android研发专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_41676282/article/details/91644453,BlogCommendHotData_8&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_41676282/article/details/91644453,BlogCommendHotData_8&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_41676282/article/details/91644453" target="_blank" title="序列化二叉树&amp;&amp;二叉搜索树的第k个结点">
		<h4 class="text-truncate oneline">
				序列化二叉树&amp;&amp;二叉搜索树的第k个结点		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-12</span>
				<span class="read-num hover-hide">
					阅读数 
					13</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_41676282/article/details/91644453" target="_blank" title="序列化二叉树&amp;&amp;二叉搜索树的第k个结点">
				<span class="desc oneline">序列化二叉树
请实现两个函数，分别用来序列化和反序列化二叉树
解题思路
采用层序遍历，遍历二叉树时碰到null指针时，这些null指针被序列化为一个特殊的字符“#”。另外，结点之间的数值用逗号隔开
代...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_41676282">来自：	<span class="blog_title"> weixin_41676282的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/king_a_123/article/details/53439801,BlogCommendHotData_9&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/king_a_123/article/details/53439801,BlogCommendHotData_9&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/king_a_123/article/details/53439801" target="_blank" title="MapReduce端的二次排序以及对移动计算而不是移动数据的理解">
		<h4 class="text-truncate oneline">
				MapReduce端的二次排序以及对移动计算而不是移动数据的理解		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">12-02</span>
				<span class="read-num hover-hide">
					阅读数 
					4244</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/king_a_123/article/details/53439801" target="_blank" title="MapReduce端的二次排序以及对移动计算而不是移动数据的理解">
				<span class="desc oneline">，
1.其实MapReduce的二次排序是我们定义的sort排序会执行两遍，第一遍是在map端执行，针对一个map任务的(当partition之后的将数据写入到内存缓冲区的时候，达到内存缓冲区的80...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/king_a_123">来自：	<span class="blog_title"> king_a_123的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hj7jay/article/details/51011269,BlogCommendHotData_10&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hj7jay/article/details/51011269,BlogCommendHotData_10&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/hj7jay/article/details/51011269" target="_blank" title="js开发实现简单贪吃蛇游戏（20行代码）">
		<h4 class="text-truncate oneline">
				js开发实现简单贪吃蛇游戏（20行代码）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">03-30</span>
				<span class="read-num hover-hide">
					阅读数 
					7万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/hj7jay/article/details/51011269" target="_blank" title="js开发实现简单贪吃蛇游戏（20行代码）">
				<span class="desc oneline">曾经诺基亚的贪吃蛇风靡一时，在游戏匮乏的年代，用java实现太难，现在网页制作20行代码就做成一个简单的demo了，时代在进步啊

代码：







01











02

html&gt;...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/hj7jay">来自：	<span class="blog_title"> 程序猿开发日志【学习永无止境】</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/flysharkym/article/details/51404730,BlogCommendHotData_11&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/flysharkym/article/details/51404730,BlogCommendHotData_11&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/flysharkym/article/details/51404730" target="_blank" title="mybatis一级缓存(session cache)引发的问题">
		<h4 class="text-truncate oneline">
				mybatis一级缓存(session cache)引发的问题		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-14</span>
				<span class="read-num hover-hide">
					阅读数 
					4万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/flysharkym/article/details/51404730" target="_blank" title="mybatis一级缓存(session cache)引发的问题">
				<span class="desc oneline">mybatis一级缓存(session cache)引发的问题</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/flysharkym">来自：	<span class="blog_title"> flysharkym的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/silentpebble/article/details/41279285,BlogCommendHotData_12&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/silentpebble/article/details/41279285,BlogCommendHotData_12&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/silentpebble/article/details/41279285" target="_blank" title="centos 查看命令源码">
		<h4 class="text-truncate oneline">
				centos 查看命令源码		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-19</span>
				<span class="read-num hover-hide">
					阅读数 
					13万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/silentpebble/article/details/41279285" target="_blank" title="centos 查看命令源码">
				<span class="desc oneline"># yum install yum-utils


设置源:
[base-src]
name=CentOS-5.4 - Base src -
baseurl=http://vault.ce...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/silentpebble">来自：	<span class="blog_title"> linux/unix</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lixiaobai/article/details/23964829,BlogCommendHotData_13&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/lixiaobai/article/details/23964829,BlogCommendHotData_13&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/lixiaobai/article/details/23964829" target="_blank" title="微微信.NET：开源的ASP.NET微信公众号应用平台">
		<h4 class="text-truncate oneline">
				微微信.NET：开源的ASP.NET微信公众号应用平台		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">04-17</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/lixiaobai/article/details/23964829" target="_blank" title="微微信.NET：开源的ASP.NET微信公众号应用平台">
				<span class="desc oneline">微微信.NET &nbsp;基于ASP.NET的开源微信应用平台 &nbsp;--（面向客户完全开源 永久免费代码更新 游戏和点餐菜单正在完善中 很多功能继续优化）



微微信.NET &nbsp;系统设计架构








...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/lixiaobai">来自：	<span class="blog_title"> 开放源码的微信应用系统 微微信.NET 研究</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/yuzhiqiang_1993/article/details/76152454,BlogCommendHotData_14&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/yuzhiqiang_1993/article/details/76152454,BlogCommendHotData_14&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/yuzhiqiang_1993/article/details/76152454" target="_blank" title="fragment清除页面数据（重新加载布局）">
		<h4 class="text-truncate oneline">
				fragment清除页面数据（重新加载布局）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-27</span>
				<span class="read-num hover-hide">
					阅读数 
					3万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/yuzhiqiang_1993/article/details/76152454" target="_blank" title="fragment清除页面数据（重新加载布局）">
				<span class="desc oneline">上一篇博客介绍了如何解决Fragment重叠的问题，有需要的同学可以看一下，底部有demo下载。 
直通车：完美解决Fragment重叠本篇博客我们来说一下怎么让fragment重新加载布局资源文件。...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/yuzhiqiang_1993">来自：	<span class="blog_title"> 喻志强的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_36892341/article/details/73918672,BlogCommendHotData_15&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_36892341/article/details/73918672,BlogCommendHotData_15&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/qq_36892341/article/details/73918672" target="_blank" title="linux上安装Docker(非常简单的安装方法)">
		<h4 class="text-truncate oneline">
				linux上安装Docker(非常简单的安装方法)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-29</span>
				<span class="read-num hover-hide">
					阅读数 
					28万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/qq_36892341/article/details/73918672" target="_blank" title="linux上安装Docker(非常简单的安装方法)">
				<span class="desc oneline">最近比较有空，大四出来实习几个月了，作为实习狗的我，被叫去研究Docker了，汗汗！

Docker的三大核心概念：镜像、容器、仓库
镜像：类似虚拟机的镜像、用俗话说就是安装文件。
容器：类似一个轻量...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/qq_36892341">来自：	<span class="blog_title"> 我走小路的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/taomanman/article/details/48678913,BlogCommendHotData_16&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/taomanman/article/details/48678913,BlogCommendHotData_16&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/taomanman/article/details/48678913" target="_blank" title="ArcGIS API for JavaScript开发环境搭建及第一个实例demo">
		<h4 class="text-truncate oneline">
				ArcGIS API for JavaScript开发环境搭建及第一个实例demo		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-25</span>
				<span class="read-num hover-hide">
					阅读数 
					2万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/taomanman/article/details/48678913" target="_blank" title="ArcGIS API for JavaScript开发环境搭建及第一个实例demo">
				<span class="desc oneline">ESRI公司截止到目前已经发布了最新的ArcGIS Server for JavaScript API v3.9，它提供了更为丰富而又强大的功能。&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; 一、安装前准备&nbsp; &nbsp; &nbsp; &nbsp;1...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/taomanman">来自：	<span class="blog_title"> 分享经验，共同进步.</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/skykingf/article/details/8624194,BlogCommendHotData_17&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/skykingf/article/details/8624194,BlogCommendHotData_17&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/skykingf/article/details/8624194" target="_blank" title="使用QSplashScreen做QT程序欢迎画面">
		<h4 class="text-truncate oneline">
				使用QSplashScreen做QT程序欢迎画面		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-28</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/skykingf/article/details/8624194" target="_blank" title="使用QSplashScreen做QT程序欢迎画面">
				<span class="desc oneline">使用QSplashScreen做QT程序欢迎画面
转自
http://hi.baidu.com/shiwl111/item/91dcf90fcf6b42eaf55ba672





...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/skykingf">来自：	<span class="blog_title"> skykingf的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/QcloudCommunity/article/details/81299930,BlogCommendHotData_18&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/QcloudCommunity/article/details/81299930,BlogCommendHotData_18&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/QcloudCommunity/article/details/81299930" target="_blank" title="安全研究 | Jenkins 任意文件读取漏洞分析">
		<h4 class="text-truncate oneline">
				安全研究 | Jenkins 任意文件读取漏洞分析		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-31</span>
				<span class="read-num hover-hide">
					阅读数 
					306</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/QcloudCommunity/article/details/81299930" target="_blank" title="安全研究 | Jenkins 任意文件读取漏洞分析">
				<span class="desc oneline">欢迎大家前往腾讯云+社区，获取更多腾讯海量技术实践干货哦~


  本文由云鼎实验室  发表于云+社区专栏


一、漏洞背景

漏洞编号：CVE-2018-1999002

漏洞等级：高危

Jenk...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/QcloudCommunity">来自：	<span class="blog_title"> QcloudCommunity的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_37888343/article/details/88807708,BlogCommendHotData_19&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_37888343/article/details/88807708,BlogCommendHotData_19&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_37888343/article/details/88807708" target="_blank" title="Python大数据分析学习.module_reload">
		<h4 class="text-truncate oneline">
				Python大数据分析学习.module_reload		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">03-25</span>
				<span class="read-num hover-hide">
					阅读数 
					66</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_37888343/article/details/88807708" target="_blank" title="Python大数据分析学习.module_reload">
				<span class="desc oneline">当加载模块被修改后，如不重新完全执行程序，则不会再加载此模块。

因此在调试中，通常用reload模块来更新所加载模块。


from imp import reload
import table_p...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_37888343">来自：	<span class="blog_title"> 小赵走四方的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gefangshuai/article/details/50328451,BlogCommendHotData_20&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gefangshuai/article/details/50328451,BlogCommendHotData_20&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/gefangshuai/article/details/50328451" target="_blank" title="关于SpringBoot bean无法注入的问题（与文件包位置有关）">
		<h4 class="text-truncate oneline">
				关于SpringBoot bean无法注入的问题（与文件包位置有关）		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">12-16</span>
				<span class="read-num hover-hide">
					阅读数 
					27万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/gefangshuai/article/details/50328451" target="_blank" title="关于SpringBoot bean无法注入的问题（与文件包位置有关）">
				<span class="desc oneline">问题场景描述整个项目通过Maven构建，大致结构如下：
核心Spring框架一个module spring-boot-base
service和dao一个module server-core
提供系统...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/gefangshuai">来自：	<span class="blog_title"> 开发随笔</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/updog/article/details/6625975,BlogCommendHotData_21&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/updog/article/details/6625975,BlogCommendHotData_21&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/updog/article/details/6625975" target="_blank" title="实现header file (.h)相应的source file (.cc/.cpp)文件时的注意事项">
		<h4 class="text-truncate oneline">
				实现header file (.h)相应的source file (.cc/.cpp)文件时的注意事项		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">07-22</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/updog/article/details/6625975" target="_blank" title="实现header file (.h)相应的source file (.cc/.cpp)文件时的注意事项">
				<span class="desc oneline">本帖慢慢扩充……1. 假设是实现namespace Abc中的一个class，不要因为是在.cc中就肆无忌惮的在global scope或者namespace Abc{}中定义辅助变量和函数，或者ty...</span>
			</a>
			<span class="blog_title_box oneline no-title">
									<span class="type-show type-show-blog type-show-after">博文</span>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wuchengzeng/article/details/50037611,BlogCommendHotData_22&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/wuchengzeng/article/details/50037611,BlogCommendHotData_22&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/wuchengzeng/article/details/50037611" target="_blank" title="jquery/js实现一个网页同时调用多个倒计时(最新的)">
		<h4 class="text-truncate oneline">
				jquery/js实现一个网页同时调用多个倒计时(最新的)		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-25</span>
				<span class="read-num hover-hide">
					阅读数 
					54万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/wuchengzeng/article/details/50037611" target="_blank" title="jquery/js实现一个网页同时调用多个倒计时(最新的)">
				<span class="desc oneline">jquery/js实现一个网页同时调用多个倒计时(最新的)

最近需要网页添加多个倒计时. 查阅网络,基本上都是千遍一律的不好用. 自己按需写了个.希望对大家有用. 有用请赞一个哦!



//js
...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/wuchengzeng">来自：	<span class="blog_title"> Websites</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/myNameIssls/article/details/51302633,BlogCommendHotData_23&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/myNameIssls/article/details/51302633,BlogCommendHotData_23&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/myNameIssls/article/details/51302633" target="_blank" title="ApacheActiveMQ安装必要条件">
		<h4 class="text-truncate oneline">
				ApacheActiveMQ安装必要条件		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">05-03</span>
				<span class="read-num hover-hide">
					阅读数 
					1万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/myNameIssls/article/details/51302633" target="_blank" title="ApacheActiveMQ安装必要条件">
				<span class="desc oneline">ApacheActiveMQ安装必要条件</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/myNameIssls">来自：	<span class="blog_title"> 业精于勤-行成于思</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hero_fantao/article/details/34533533,BlogCommendHotData_24&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/hero_fantao/article/details/34533533,BlogCommendHotData_24&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/hero_fantao/article/details/34533533" target="_blank" title="连续特征离散化和归一化">
		<h4 class="text-truncate oneline">
				连续特征离散化和归一化		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-25</span>
				<span class="read-num hover-hide">
					阅读数 
					6万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/hero_fantao/article/details/34533533" target="_blank" title="连续特征离散化和归一化">
				<span class="desc oneline">连续特征进行离散化处理。</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/hero_fantao">来自：	<span class="blog_title"> hero_fantao的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Smile_qiqi/article/details/32724931,BlogCommendHotData_25&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Smile_qiqi/article/details/32724931,BlogCommendHotData_25&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/Smile_qiqi/article/details/32724931" target="_blank" title="魔兽争霸3冰封王座1.24e 多开联机补丁 信息发布与收集点">
		<h4 class="text-truncate oneline">
				魔兽争霸3冰封王座1.24e 多开联机补丁 信息发布与收集点		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">06-20</span>
				<span class="read-num hover-hide">
					阅读数 
					6万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/Smile_qiqi/article/details/32724931" target="_blank" title="魔兽争霸3冰封王座1.24e 多开联机补丁 信息发布与收集点">
				<span class="desc oneline">畅所欲言！</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/Smile_qiqi">来自：	<span class="blog_title"> Smile_qiqi的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/zhmxy555/article/details/40955607,BlogCommendHotData_26&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/zhmxy555/article/details/40955607,BlogCommendHotData_26&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/zhmxy555/article/details/40955607" target="_blank" title="【Unity3D Shader编程】之二 雪山飞狐篇：Unity的基本Shader框架写法&amp;颜色、光照与材质">
		<h4 class="text-truncate oneline">
				【Unity3D Shader编程】之二 雪山飞狐篇：Unity的基本Shader框架写法&amp;颜色、光照与材质		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">11-09</span>
				<span class="read-num hover-hide">
					阅读数 
					8万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/zhmxy555/article/details/40955607" target="_blank" title="【Unity3D Shader编程】之二 雪山飞狐篇：Unity的基本Shader框架写法&amp;颜色、光照与材质">
				<span class="desc oneline">本篇文章中，我们学习了Unity Shader的基本写法框架，以及学习了Shader中Properties（属性）的详细写法，光照、材质与颜色的具体写法。写了6个Shader作为本文Shader讲解的...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/zhmxy555">来自：	<span class="blog_title"> 【浅墨的游戏编程Blog】毛星云（浅墨）的专栏</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Tiaaaaa/article/details/58116346,BlogCommendHotData_27&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Tiaaaaa/article/details/58116346,BlogCommendHotData_27&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/Tiaaaaa/article/details/58116346" target="_blank" title="R语言逻辑回归、ROC曲线和十折交叉验证">
		<h4 class="text-truncate oneline">
				R语言逻辑回归、ROC曲线和十折交叉验证		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">02-27</span>
				<span class="read-num hover-hide">
					阅读数 
					8万+</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/Tiaaaaa/article/details/58116346" target="_blank" title="R语言逻辑回归、ROC曲线和十折交叉验证">
				<span class="desc oneline">自己整理编写的逻辑回归模板，作为学习笔记记录分享。数据集用的是14个自变量Xi，一个因变量Y的australian数据集。


1. 测试集和训练集3、7分组
australian ...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/Tiaaaaa">来自：	<span class="blog_title"> Tiaaaaa的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/xiaozhi_2016/article/details/52451709,BlogCommendHotData_28&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/xiaozhi_2016/article/details/52451709,BlogCommendHotData_28&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/xiaozhi_2016/article/details/52451709" target="_blank" title="WebStorage示例——记住密码">
		<h4 class="text-truncate oneline">
				WebStorage示例——记住密码		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-06</span>
				<span class="read-num hover-hide">
					阅读数 
					1254</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/xiaozhi_2016/article/details/52451709" target="_blank" title="WebStorage示例——记住密码">
				<span class="desc oneline">通常用户在登录一个网站时，浏览器都会提示“是否记住密码？”，如果选择记住密码，下次再从同一个浏览器登录该网站时，便不再需要用户再次输入用户名和密码，而是这些信息已经显示在了输入框内，用户只需要点击“登...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/xiaozhi_2016">来自：	<span class="blog_title"> H小志</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_34068198/article/details/85949469,BlogCommendHotData_29&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_34068198/article/details/85949469,BlogCommendHotData_29&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/weixin_34068198/article/details/85949469" target="_blank" title="Python处理大数据">
		<h4 class="text-truncate oneline">
				Python处理大数据		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">10-23</span>
				<span class="read-num hover-hide">
					阅读数 
					254</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/weixin_34068198/article/details/85949469" target="_blank" title="Python处理大数据">
				<span class="desc oneline">起因
Python处理一下数据，大概有六七个G，然后再存到另外一个文件中，单线程跑起来发现太慢了，数据总量大概是千万行的级别，然后每秒钟只能处理不到20行……遂想怎么提高一下速度
尝试1-multip...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/weixin_34068198">来自：	<span class="blog_title"> weixin_34068198的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
<div class="recommend-item-box type_blog clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/cheidou123/article/details/82319955,BlogCommendHotData_30&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_387&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/cheidou123/article/details/82319955,BlogCommendHotData_30&quot;}">
	<div class="content">
		<a href="https://blog.csdn.net/cheidou123/article/details/82319955" target="_blank" title="effective java 第二章 创建和销毁对象">
		<h4 class="text-truncate oneline">
				effective java 第二章 创建和销毁对象		</h4>
		<div class="info-box d-flex align-content-center">
			<p class="date-and-readNum oneline">
				<span class="date hover-show">09-02</span>
				<span class="read-num hover-hide">
					阅读数 
					44</span>
				</p>
			</div>
		</a>
		<p class="content">
			<a href="https://blog.csdn.net/cheidou123/article/details/82319955" target="_blank" title="effective java 第二章 创建和销毁对象">
				<span class="desc oneline">一、考虑用静态工厂代替构造器(实用程度◆)

一、考虑用静态工厂代替构造器(实用程度◆) 
1.与构造器相比的优势 
⑴它们有名称 
⑵不必每次调用它们的时候都创建一个新对象 
⑶它们可以返回返回类型...</span>
			</a>
			<span class="blog_title_box oneline ">
									<span class="type-show type-show-blog type-show-after">博文</span>
											<a target="_blank" href="https://blog.csdn.net/cheidou123">来自：	<span class="blog_title"> cheidou123的博客</span></a>
												</span>
		</p>
	</div>
	</div>

	
	
                <div class="recommend-item-box type_hot_word">
                                <div class="content clearfix">
                    <div class="word float-left">
                                                            <span>
                        <a href="https://edu.csdn.net/course/play/5599/104252" target="_blank">
                        颜色模型                    </a></span>
                                                                                <span>
                        <a href="https://edu.csdn.net/courses/o5329_s5330_k" target="_blank">
                        机器学习教程                    </a></span>
                                                                                <span>
                        <a href="https://edu.csdn.net/courses/o280_s351_k" target="_blank">
                        Objective-C培训                    </a></span>
                                                                                <span>
                        <a href="https://edu.csdn.net/combos/o7115_s388_l0_t" target="_blank">
                        交互设计视频教程                    </a></span>
                                                                                <span>
                        <a href="https://edu.csdn.net/combos/o363_l0_t" target="_blank">
                        设计制作学习                    </a></span>
                                                            </div>
                </div>
                                                <div class="content clearfix">
                    <div class="float-left">
                                        <span>
                        <a href="https://www.csdn.net/gather_24/MtTaEg3sMDM5MS1ibG9n.html" target="_blank">
                        mysql关联查询两次本表</a>
                    </span>
                                        <span>
                        <a href="https://www.csdn.net/gather_10/MtjaIg3sMTUzMy1kb3dubG9hZAO0O0OO0O0O.html" target="_blank">
                        native底部 react</a>
                    </span>
                                        <span>
                        <a href="https://www.csdn.net/gather_1b/Ntzagg1sOTU3LWRvd25sb2Fk.html" target="_blank">
                        extjs glyph 图标</a>
                    </span>
                                        <span>
                        <a href="https://www.csdn.net/gather_4a/NtDakg0sMDYtZWR1.html" target="_blank">
                        大数据基础模型</a>
                    </span>
                                        <span>
                        <a href="https://www.csdn.net/gather_4a/NtDacgwsMTItZWR1.html" target="_blank">
                        大数据模型基础</a>
                    </span>
                                        </div>
                </div>
                                </div>
                            <div class="recommend-loading-box">
                <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/feedLoading.gif">
            </div>
            <div class="recommend-end-box">
                <p class="text-center">没有更多推荐了，<a href="https://blog.csdn.net/" class="c-blue c-blue-hover c-blue-focus">返回首页</a></p>
            </div>
        </div>
    </main>

    <aside>
	<div id="asideProfile" class="aside-box">
    <!-- <h3 class="aside-title">个人资料</h3> -->
    <div class="profile-intro d-flex">
        <div class="avatar-box d-flex justify-content-center flex-column">
            <a href="https://blog.csdn.net/wh8_2011">
              <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/3_wh8_2011.jpg" class="avatar_pic">
                              <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/7.png" class="user-years">
                          </a>
            
        </div>
        <div class="user-info d-flex justify-content-center flex-column">
            <p class="name csdn-tracking-statistics tracking-click" data-mod="popu_379">
                <a href="https://blog.csdn.net/wh8_2011" target="_blank" class="" id="uid">-鸣人-</a>
            </p>
                    </div>
                <div class="opt-box d-flex justify-content-center flex-column">
            <span class="csdn-tracking-statistics tracking-click" data-mod="popu_379">
                <a class="btn btn-sm btn-red-hollow attention" id="btnAttent">关注</a>
            </span>
        </div>
            </div>
    <div class="data-info d-flex item-tiling">
                <dl class="text-center" title="132">
                        <dt><a href="https://blog.csdn.net/wh8_2011?t=1">原创</a></dt>
            <dd><a href="https://blog.csdn.net/wh8_2011?t=1"><span class="count">132</span></a></dd>
                    </dl>
        <dl class="text-center" id="fanBox" title="374">
            <dt>粉丝</dt>
            <dd><span class="count" id="fan">374</span></dd>
        </dl>
        <dl class="text-center" title="213">
            <dt>喜欢</dt>
            <dd><span class="count">213</span></dd>
        </dl>
        <dl class="text-center" title="96">
            <dt>评论</dt>
            <dd><span class="count">96</span></dd>
        </dl>
    </div>
    <div class="grade-box clearfix">
        <dl>
            <dt>等级：</dt>
            <dd>
                <a href="https://blog.csdn.net/home/help.html#level" title="7级,点击查看等级说明" target="_blank">
                    <svg class="icon icon-level" aria-hidden="true">
                        <use xlink:href="#csdnc-bloglevel-7"></use>
                    </svg>
                </a>
            </dd>
        </dl>
        <dl>
            <dt>访问：</dt>
            <dd title="1201699">
                120万+            </dd>
        </dl>
        <dl>
            <dt>积分：</dt>
            <dd title="13652">
                1万+            </dd>
        </dl>
        <dl title="1680">
            <dt>排名：</dt>
            <dd>1680</dd>
        </dl>
    </div>
        <div class="badge-box d-flex">
        <span>勋章：</span>
        <div class="badge d-flex">
                                                        <div class="icon-badge" title="专栏达人">
                       <div class="mouse-box">
                          <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/zhuanlan.svg" alt="">
                          <div class="icon-arrow"></div>
                       </div>
                       <div class="grade-detail-box">
                           <div class="pos-box">
                               <div class="left-box d-flex justify-content-center align-items-center flex-column">
                                    <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/zhuanlan.svg" alt="">
                                   <p>专栏达人</p>
                               </div>
                               <div class="right-box">
                                   授予成功创建个人博客专栏的用户。专栏中添加五篇以上博文即可点亮！撰写博客专栏浓缩技术精华，专栏达人就是你！                               </div>
                           </div>
                       </div>
                   </div>
                                                             <div class="icon-badge" title="持之以恒">
                       <div class="mouse-box">
                          <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/chizhiyiheng.svg" alt="">
                          <div class="icon-arrow"></div>
                       </div>
                       <div class="grade-detail-box">
                           <div class="pos-box">
                               <div class="left-box d-flex justify-content-center align-items-center flex-column">
                                    <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/chizhiyiheng.svg" alt="">
                                   <p>持之以恒</p>
                               </div>
                               <div class="right-box">
                                   授予每个自然月内发布4篇或4篇以上原创或翻译IT博文的用户。不积跬步无以至千里，不积小流无以成江海，程序人生的精彩需要坚持不懈地积累！                               </div>
                           </div>
                       </div>
                   </div>
                                                             <div class="icon-badge" title="1024勋章">
                       <div class="mouse-box">
                          <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/1024huodong.svg" alt="">
                          <div class="icon-arrow"></div>
                       </div>
                       <div class="grade-detail-box">
                           <div class="pos-box">
                               <div class="left-box d-flex justify-content-center align-items-center flex-column">
                                    <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/1024huodong.svg" alt="">
                                   <p>1024勋章</p>
                               </div>
                               <div class="right-box">
                                   #1024程序员节#活动勋章，当日发布原创博客即可获得                               </div>
                           </div>
                       </div>
                   </div>
                                                             <div class="icon-badge" title="勤写标兵Lv1">
                       <div class="mouse-box">
                          <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/qinxiebiaobing_l1_t1.svg" alt="">
                          <div class="icon-arrow"></div>
                       </div>
                       <div class="grade-detail-box">
                           <div class="pos-box">
                               <div class="left-box d-flex justify-content-center align-items-center flex-column">
                                    <img src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/qinxiebiaobing_l1_t1.svg" alt="">
                                   <p>勤写标兵Lv1</p>
                               </div>
                               <div class="right-box">
                                   授予每个自然周发布1篇到3篇原创IT博文的用户。本勋章将于次周上午根据用户上周的博文发布情况由系统自动颁发。                               </div>
                           </div>
                       </div>
                   </div>
                                             </div>
        <script>
            (function ($) {
                setTimeout(function(){
                    $('div.icon-badge.show-moment').removeClass('show-moment');
                }, 5000);
            })(window.jQuery)
        </script>
    </div>
    </div>
<div class="csdn-tracking-statistics mb8 box-shadow" data-pid="blog" data-mod="popu_4" style="height:250px;">
    <div class="aside-content text-center" id="cpro_u2734133">
      <div id="kp_box_56" data-pid="56" data-track-view="{&quot;mod&quot;:&quot;kp_popu_56-876&quot;,&quot;con&quot;:&quot;,,&quot;}" data-track-click="{&quot;mod&quot;:&quot;kp_popu_56-876&quot;,&quot;con&quot;:&quot;,,&quot;}"><!-- 广告位：PC-博客内页左上视窗 -->
<script>
(function() {
    var s = "_" + Math.random().toString(36).slice(2);
    document.write('<div id="' + s + '"></div>');
    (window.slotbydup=window.slotbydup || []).push({
        id: '6096221',
        container: s,
        size: '300,250',
        display: 'inlay-fix'
    });
})();
</script><div id="_j0pst3a54en"></div>
<script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/os.js"></script><script charset="utf-8" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/bcxm(1)"></script><script type="text/javascript">
        var cpro_id = "u3032528";
        
</script>
<script type="text/javascript" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/c.js"></script><div id="BAIDU_SSP__wrapper_u3032528_0"><iframe id="iframeu3032528_0" name="iframeu3032528_0" src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/bcxm.html" width="300" height="250" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:300px;height:250px" allowtransparency="true"></iframe></div>

<div id="niming">

<div class="fengyu">
<a href="https://click.hm.baidu.com/clk?d98f3da2f14b29efa31ec4af55bfdeb5" target="_blank">
降低AI开发门槛，Atlas AI芯片/模组现场实战。7.5华为云沙龙-深圳见！
</a>

<span class="tuiguangbiaoji">[广告]<span class="guangbibutton">[关闭]</span></span>
</div>
</div>
<script src="./linux下bus、devices和platform的基础模型 - 华的专栏 - CSDN博客_files/jquery-3.4.1.min.js"></script></div></div></div></aside></div></body></html>